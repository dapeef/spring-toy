(()=>{"use strict";var t;!function(t){t[t.Triangle=0]="Triangle",t[t.Parallelogram=1]="Parallelogram",t[t.Square=2]="Square",t[t.CenteredSquare=3]="CenteredSquare"}(t||(t={}));var i,s=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y},t.prototype.multiplyBy=function(t){this.x*=t,this.y*=t},t.prototype.normalize=function(){this.multiplyBy(1/this.length())},t.prototype.plus=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.minus=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.times=function(i){return new t(this.x*i,this.y*i)},t.prototype.length=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.normalized=function(){return 0===this.length()?this:this.times(1/this.length())},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.clamp=function(t){this.length()>t&&(this.normalize(),this.multiplyBy(t))},t.prototype.copy=function(){return new t(this.x,this.y)},t}(),e=(i=function(t,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},i(t,s)},function(t,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function e(){this.constructor=t}i(t,s),t.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)}),n=function(){function t(t,i,e,n,o,h){void 0===t&&(t=new s(25,25)),void 0===i&&(i=1),void 0===e&&(e=1e-7),void 0===n&&(n=1),void 0===o&&(o=new s(50,50)),void 0===h&&(h=5e-4),this._position=t,this.mass=i,this.stiffness=e,this.damping=n,this._size=o,this.dragCoefficient=h,this.isBeingDragged=!1,this.relativeMousePosition=new s,this.springs=[],this._velocity=new s}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"velocity",{get:function(){return this._velocity},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this._position.x-this._size.x/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._position.x+this._size.x/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._position.y-this._size.y/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._position.y+this._size.y/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSize",{get:function(){return Math.min(this._size.x,this._size.y)},enumerable:!1,configurable:!0}),t.prototype.addSpring=function(t){this.springs.push(t)},t.prototype.update=function(i,e,n,o,r,a){var p=this;if(this.isBeingDragged){var d=this._position.copy();this._position=n.minus(this.relativeMousePosition),this._velocity=this._position.minus(d).times(1/e)}else{var u=new s;u.add(new s(0,this.mass*o)),this.springs.forEach((function(t){u.add(t.getForce(p))}));var c=[];this.left<=0&&c.push(new h(this,new t(new s(-this._size.x/2,this._position.y)),this._size.x)),this.right>=i.width&&c.push(new h(this,new t(new s(i.width+this._size.x/2,this._position.y)),this._size.x)),this.top<=0&&c.push(new h(this,new t(new s(this._position.x,-this._size.y/2)),this._size.y)),this.bottom>=i.height&&c.push(new h(this,new t(new s(this._position.x,i.height+this._size.y/2)),this._size.y)),c.forEach((function(t){u.add(t.getForce(p))})),u.add(this._velocity.normalized().times(-this.dragCoefficient*Math.pow(this._velocity.length(),2)));var l=u.times(1/this.mass);this._velocity.add(l.times(e)),this._velocity.clamp(a),this._position.add(this._velocity.times(e)),this.right<=0&&(this._velocity.x=0,this._position.x=-this.size.x/2+1),this.left>=i.width&&(this._velocity.x=0,this._position.x=i.width+this.size.x/2-1),this.bottom<=0&&(this._velocity.y=0,this._position.y=-this.size.y/2+1),this.top>=i.height&&(this._velocity.y=0,this._position.y=i.height+this.size.y/2-1)}},t.prototype.draw=function(t){t.strokeStyle="black",t.beginPath(),t.ellipse(this._position.x,this._position.y,this._size.x/2,this._size.y/2,0,0,2*Math.PI),t.fill()},t}(),o=function(){function t(t,i,e,n,o){void 0===e&&(e=200),void 0===n&&(n=1e-4),void 0===o&&(o=.001),this.mass1=t,this.mass2=i,this.naturalLength=e,this.stiffness=n,this.damping=o,this.length=0,this.relativePos=new s,this.elasticForce=new s,this.dampingForce=new s,this.force=new s,this.defaultWidth=10,this.update()}return t.prototype.getForce=function(t){return t===this.mass2?this.force:this.force.times(-1)},t.prototype.update=function(){this.relativePos=this.mass1.position.minus(this.mass2.position),this.length=this.relativePos.length();var t=this.relativePos.normalized();this.elasticForce=t.times((this.length-this.naturalLength)*this.stiffness);var i=this.mass1.velocity.minus(this.mass2.velocity).dot(t);this.dampingForce=t.times(i*this.damping),this.force=this.elasticForce.plus(this.dampingForce)},t.prototype.draw=function(t){t.beginPath(),t.moveTo(this.mass1.position.x,this.mass1.position.y),t.lineTo(this.mass2.position.x,this.mass2.position.y),t.lineWidth=Math.min(this.defaultWidth*this.naturalLength/this.length,this.mass1.minSize,this.mass2.minSize),t.strokeStyle="gray",t.stroke()},t}(),h=function(t){function i(i,s,e,n,o){void 0===n&&(n=1e-5),void 0===o&&(o=.01);var h=t.call(this,s,i,e,n,o)||this;return h.mass1=i,h.mass2=s,h.naturalLength=e,h.stiffness=n,h.damping=o,h.hertzExponent=2,h.penaltyExponent=.5,h.update(),h}return e(i,t),i.prototype.update=function(){this.relativePos=this.mass1.position.minus(this.mass2.position),this.length=this.relativePos.length();var t=this.relativePos.normalized(),i=Math.pow(this.naturalLength-this.length,this.hertzExponent)*this.stiffness,s=1+1/Math.pow(this.length,this.penaltyExponent);this.elasticForce=t.times(i*s).times(-1);var e=this.mass1.velocity.minus(this.mass2.velocity).dot(t);this.dampingForce=t.times(e*this.damping),this.force=this.elasticForce.plus(this.dampingForce)},i}(o),r=function(){function i(t){this.canvas=t,this.mousePosition=new s,this.maxDeltaTime=50,this.gravity=5e-4,this.maxForce=.1,this.maxSpeed=1e4,this.ctx=t.getContext("2d"),this.lastTime=0,this.deltaTime=0,this.masses=[],this.springs=[]}return i.prototype.addMass=function(t){this.masses.push(t)},i.prototype.addSpring=function(t){this.springs.push(t),t.mass1.addSpring(t),t.mass2.addSpring(t)},i.prototype.mouseDown=function(t){var i=this;this.mousePosition.x=t.x,this.mousePosition.y=t.y,this.masses.forEach((function(s){s.position.x-s.size.x<=t.x&&s.position.x+s.size.x>=t.x&&s.position.y-s.size.y<=t.y&&s.position.y+s.size.y>=t.y&&(s.isBeingDragged=!0,s.relativeMousePosition=i.mousePosition.minus(s.position))}))},i.prototype.mouseMove=function(t){this.mousePosition.x=t.x,this.mousePosition.y=t.y},i.prototype.mouseUp=function(t){this.masses.forEach((function(t){return t.isBeingDragged=!1}))},i.prototype.createDemo=function(i){if(i===t.Triangle){var e=new n(new s(15,30)),h=new n(new s(30,300)),r=new n(new s(300,30));this.addMass(e),this.addMass(h),this.addMass(r);var a=new o(e,h),p=new o(h,r),d=new o(e,r);this.addSpring(a),this.addSpring(p),this.addSpring(d)}if(i===t.Parallelogram){e=new n(new s(30,30)),h=new n(new s(30,300)),r=new n(new s(300,30));var u=new n(new s(300,300));this.addMass(e),this.addMass(h),this.addMass(r),this.addMass(u),a=new o(e,h),p=new o(h,r),d=new o(e,r);var c=new o(r,u),l=new o(h,u);this.addSpring(a),this.addSpring(p),this.addSpring(d),this.addSpring(c),this.addSpring(l)}if(i===t.Square){e=new n(new s(30,30)),h=new n(new s(30,300)),r=new n(new s(300,30)),u=new n(new s(300,300)),this.addMass(e),this.addMass(h),this.addMass(r),this.addMass(u),a=new o(e,h),p=new o(e,u,200*Math.sqrt(2)),d=new o(h,u),c=new o(r,u),l=new o(e,r);var m=new o(h,r,200*Math.sqrt(2));this.addSpring(a),this.addSpring(p),this.addSpring(d),this.addSpring(c),this.addSpring(l),this.addSpring(m)}if(i===t.CenteredSquare){e=new n(new s(30,30)),h=new n(new s(30,300)),r=new n(new s(300,30)),u=new n(new s(300,300));var y=new n(new s(150,150));this.addMass(e),this.addMass(h),this.addMass(r),this.addMass(u),this.addMass(y),a=new o(e,h),p=new o(e,r),d=new o(h,u),c=new o(r,u),l=new o(e,y,100*Math.sqrt(2)),m=new o(h,y,100*Math.sqrt(2));var f=new o(r,y,100*Math.sqrt(2)),g=new o(u,y,100*Math.sqrt(2));this.addSpring(a),this.addSpring(p),this.addSpring(d),this.addSpring(c),this.addSpring(l),this.addSpring(m),this.addSpring(f),this.addSpring(g)}},i.prototype.start=function(){requestAnimationFrame(this.mainLoop.bind(this))},i.prototype.mainLoop=function(t){this.deltaTime=Math.min(t-this.lastTime,this.maxDeltaTime),this.lastTime=t,this.update(this.deltaTime),this.draw(),requestAnimationFrame(this.mainLoop.bind(this))},i.prototype.update=function(t){var i=this;this.masses.forEach((function(s){return s.update(i.canvas,t,i.mousePosition,i.gravity,i.maxForce,i.maxSpeed)})),this.springs.forEach((function(t){return t.update()}))},i.prototype.draw=function(){var t=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.springs.forEach((function(i){return i.draw(t.ctx)})),this.masses.forEach((function(i){return i.draw(t.ctx)}))},i}(),a=document.getElementById("canvas");function p(){a.width=window.innerWidth,a.height=window.innerHeight}window.addEventListener("resize",p),p();var d=new r(a);a.onmousedown=d.mouseDown.bind(d),a.onmousemove=d.mouseMove.bind(d),a.onmouseup=d.mouseUp.bind(d);var u=Math.floor(Math.random()*Object.keys(t).length/2);d.createDemo(u),d.start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFBQSxJQUFZQSxHQUFaLFNBQVlBLEdBQ1IsMkJBQ0EscUNBQ0EsdUJBQ0Esc0NBQ0gsQ0FMRCxDQUFZQSxJQUFBQSxFQUFRLEtBUXBCLEksRUFBQSxhQUNJLFdBQW1CQyxFQUFxQkMsUUFBckIsSUFBQUQsSUFBQUEsRUFBQSxRQUFxQixJQUFBQyxJQUFBQSxFQUFBLEdBQXJCLEtBQUFELEVBQUFBLEVBQXFCLEtBQUFDLEVBQUFBLENBQWUsQ0FrRTNELE9BaEVXLFlBQUFDLElBQVAsU0FBV0MsR0FFUEMsS0FBS0osR0FBS0csRUFBT0gsRUFDakJJLEtBQUtILEdBQUtFLEVBQU9GLENBQ3JCLEVBRU8sWUFBQUksU0FBUCxTQUFnQkYsR0FFWkMsS0FBS0osR0FBS0csRUFBT0gsRUFDakJJLEtBQUtILEdBQUtFLEVBQU9GLENBQ3JCLEVBRU8sWUFBQUssV0FBUCxTQUFrQkMsR0FFZEgsS0FBS0osR0FBS08sRUFDVkgsS0FBS0gsR0FBS00sQ0FDZCxFQUVPLFlBQUFDLFVBQVAsV0FDSUosS0FBS0UsV0FBVyxFQUFFRixLQUFLSyxTQUMzQixFQUVPLFlBQUFDLEtBQVAsU0FBWVAsR0FFUixPQUFPLElBQUlRLEVBQVFQLEtBQUtKLEVBQUlHLEVBQU9ILEVBQUdJLEtBQUtILEVBQUlFLEVBQU9GLEVBQzFELEVBRU8sWUFBQVcsTUFBUCxTQUFhVCxHQUVULE9BQU8sSUFBSVEsRUFBUVAsS0FBS0osRUFBSUcsRUFBT0gsRUFBR0ksS0FBS0gsRUFBSUUsRUFBT0YsRUFDMUQsRUFFTyxZQUFBWSxNQUFQLFNBQWFOLEdBRVQsT0FBTyxJQUFJSSxFQUFRUCxLQUFLSixFQUFJTyxFQUFRSCxLQUFLSCxFQUFJTSxFQUNqRCxFQUVPLFlBQUFFLE9BQVAsV0FFSSxPQUFPSyxLQUFLQyxLQUFLRCxLQUFLRSxJQUFJWixLQUFLSixFQUFHLEdBQUtjLEtBQUtFLElBQUlaLEtBQUtILEVBQUcsR0FDNUQsRUFFTyxZQUFBZ0IsV0FBUCxXQUNJLE9BQXNCLElBQWxCYixLQUFLSyxTQUNFTCxLQUVBQSxLQUFLUyxNQUFNLEVBQUVULEtBQUtLLFNBRWpDLEVBRU8sWUFBQVMsSUFBUCxTQUFXZixHQUNQLE9BQU9DLEtBQUtKLEVBQUlHLEVBQU9ILEVBQUlJLEtBQUtILEVBQUlFLEVBQU9GLENBQy9DLEVBRU8sWUFBQWtCLE1BQVAsU0FBYUMsR0FDTGhCLEtBQUtLLFNBQVdXLElBQ2hCaEIsS0FBS0ksWUFDTEosS0FBS0UsV0FBV2MsR0FFeEIsRUFFTyxZQUFBQyxLQUFQLFdBQ0ksT0FBTyxJQUFJVixFQUFRUCxLQUFLSixFQUFHSSxLQUFLSCxFQUNwQyxFQUNKLEVBbkVBLEcsbWNDTkEsYUFNSSxXQUFvQnFCLEVBQWlEQyxFQUF5QkMsRUFBaUNDLEVBQThCQyxFQUE2Q0MsUUFBdEwsSUFBQUwsSUFBQUEsRUFBQSxJQUF3QlgsRUFBUSxHQUFJLFVBQWEsSUFBQVksSUFBQUEsRUFBQSxRQUF5QixJQUFBQyxJQUFBQSxFQUFBLFdBQWlDLElBQUFDLElBQUFBLEVBQUEsUUFBOEIsSUFBQUMsSUFBQUEsRUFBQSxJQUFvQmYsRUFBUSxHQUFJLFVBQWEsSUFBQWdCLElBQUFBLEVBQUEsTUFBdEwsS0FBQUwsVUFBQUEsRUFBaUQsS0FBQUMsS0FBQUEsRUFBeUIsS0FBQUMsVUFBQUEsRUFBaUMsS0FBQUMsUUFBQUEsRUFBOEIsS0FBQUMsTUFBQUEsRUFBNkMsS0FBQUMsZ0JBQUFBLEVBSG5NLEtBQUFDLGdCQUF5QixFQUN6QixLQUFBQyxzQkFBZ0MsSUFBSWxCLEVBR3ZDUCxLQUFLMEIsUUFBVSxHQUNmMUIsS0FBSzJCLFVBQVksSUFBSXBCLENBQ3pCLENBNEZKLE9BekZJLHNCQUFXLHVCQUFRLEMsSUFBbkIsV0FDSSxPQUFPUCxLQUFLa0IsU0FDaEIsRSxnQ0FDQSxzQkFBVyx1QkFBUSxDLElBQW5CLFdBQ0ksT0FBT2xCLEtBQUsyQixTQUNoQixFLGdDQUNBLHNCQUFXLG1CQUFJLEMsSUFBZixXQUNJLE9BQU8zQixLQUFLc0IsS0FDaEIsRSxnQ0FFQSxzQkFBVyxtQkFBSSxDLElBQWYsV0FDSSxPQUFPdEIsS0FBS2tCLFVBQVV0QixFQUFJSSxLQUFLc0IsTUFBTTFCLEVBQUUsQ0FDM0MsRSxnQ0FDQSxzQkFBVyxvQkFBSyxDLElBQWhCLFdBQ0ksT0FBT0ksS0FBS2tCLFVBQVV0QixFQUFJSSxLQUFLc0IsTUFBTTFCLEVBQUUsQ0FDM0MsRSxnQ0FDQSxzQkFBVyxrQkFBRyxDLElBQWQsV0FDSSxPQUFPSSxLQUFLa0IsVUFBVXJCLEVBQUlHLEtBQUtzQixNQUFNekIsRUFBRSxDQUMzQyxFLGdDQUNBLHNCQUFXLHFCQUFNLEMsSUFBakIsV0FDSSxPQUFPRyxLQUFLa0IsVUFBVXJCLEVBQUlHLEtBQUtzQixNQUFNekIsRUFBRSxDQUMzQyxFLGdDQUVBLHNCQUFXLHNCQUFPLEMsSUFBbEIsV0FDSSxPQUFPYSxLQUFLa0IsSUFBSTVCLEtBQUtzQixNQUFNMUIsRUFBR0ksS0FBS3NCLE1BQU16QixFQUM3QyxFLGdDQUVPLFlBQUFnQyxVQUFQLFNBQWlCQyxHQUNiOUIsS0FBSzBCLFFBQVFLLEtBQUtELEVBQ3RCLEVBRU8sWUFBQUUsT0FBUCxTQUFjQyxFQUEwQkMsRUFBa0JDLEVBQXVCQyxFQUFnQkMsRUFBaUJDLEdBQWxILFdBQ0ksR0FBSXRDLEtBQUt3QixlQUFnQixDQUNyQixJQUFNZSxFQUFjdkMsS0FBS2tCLFVBQVVELE9BQ25DakIsS0FBS2tCLFVBQVlpQixFQUFjM0IsTUFBTVIsS0FBS3lCLHVCQUMxQ3pCLEtBQUsyQixVQUFZM0IsS0FBS2tCLFVBQVVWLE1BQU0rQixHQUFhOUIsTUFBTSxFQUFFeUIsRUFDL0QsS0FBTyxDQUNILElBQUksRUFBUSxJQUFJM0IsRUFFaEIsRUFBTVQsSUFBSSxJQUFJUyxFQUFRLEVBQUdQLEtBQUttQixLQUFPaUIsSUFFckNwQyxLQUFLMEIsUUFBUWMsU0FBUSxTQUFBVixHQUFXLEVBQU1oQyxJQUFJZ0MsRUFBT1csU0FBUyxHQUFNLElBR2hFLElBQUlDLEVBQWlDLEdBQ2pDMUMsS0FBSzJDLE1BQVEsR0FBb0JELEVBQWVYLEtBQUssSUFBSWEsRUFBYzVDLEtBQU0sSUFBSTZDLEVBQUssSUFBSXRDLEdBQVNQLEtBQUtzQixNQUFNMUIsRUFBRSxFQUFtQkksS0FBS2tCLFVBQVVyQixJQUFLRyxLQUFLc0IsTUFBTTFCLElBQ2xLSSxLQUFLOEMsT0FBU2IsRUFBT2MsT0FBWUwsRUFBZVgsS0FBSyxJQUFJYSxFQUFjNUMsS0FBTSxJQUFJNkMsRUFBSyxJQUFJdEMsRUFBUTBCLEVBQU9jLE1BQU0vQyxLQUFLc0IsTUFBTTFCLEVBQUUsRUFBT0ksS0FBS2tCLFVBQVVyQixJQUFLRyxLQUFLc0IsTUFBTTFCLElBQ2xLSSxLQUFLZ0QsS0FBTyxHQUFxQk4sRUFBZVgsS0FBSyxJQUFJYSxFQUFjNUMsS0FBTSxJQUFJNkMsRUFBSyxJQUFJdEMsRUFBUVAsS0FBS2tCLFVBQVV0QixHQUFJSSxLQUFLc0IsTUFBTXpCLEVBQUUsSUFBcUJHLEtBQUtzQixNQUFNekIsSUFDbEtHLEtBQUtpRCxRQUFVaEIsRUFBT2lCLFFBQVdSLEVBQWVYLEtBQUssSUFBSWEsRUFBYzVDLEtBQU0sSUFBSTZDLEVBQUssSUFBSXRDLEVBQVFQLEtBQUtrQixVQUFVdEIsRUFBR3FDLEVBQU9pQixPQUFPbEQsS0FBS3NCLE1BQU16QixFQUFFLElBQVFHLEtBQUtzQixNQUFNekIsSUFDdEs2QyxFQUFlRixTQUFRLFNBQUFWLEdBQ25CLEVBQU1oQyxJQUFJZ0MsRUFBT1csU0FBUyxHQUFNLElBR3BDLEVBQU0zQyxJQUFJRSxLQUFLMkIsVUFBVWQsYUFBYUosT0FBT1QsS0FBS3VCLGdCQUFrQmIsS0FBS0UsSUFBSVosS0FBSzJCLFVBQVV0QixTQUFVLEtBR3RHLElBQUk4QyxFQUF1QixFQUFNMUMsTUFBTSxFQUFFVCxLQUFLbUIsTUFDOUNuQixLQUFLMkIsVUFBVTdCLElBQUlxRCxFQUFhMUMsTUFBTXlCLElBQ3RDbEMsS0FBSzJCLFVBQVVaLE1BQU11QixHQUNyQnRDLEtBQUtrQixVQUFVcEIsSUFBSUUsS0FBSzJCLFVBQVVsQixNQUFNeUIsSUFHcENsQyxLQUFLOEMsT0FBUyxJQUFlOUMsS0FBSzJCLFVBQVUvQixFQUFJLEVBQUdJLEtBQUtrQixVQUFVdEIsR0FBS0ksS0FBS29ELEtBQUt4RCxFQUFFLEVBQUksR0FDdkZJLEtBQUsyQyxNQUFRVixFQUFPYyxRQUFTL0MsS0FBSzJCLFVBQVUvQixFQUFJLEVBQUdJLEtBQUtrQixVQUFVdEIsRUFBSXFDLEVBQU9jLE1BQVEvQyxLQUFLb0QsS0FBS3hELEVBQUUsRUFBSSxHQUNyR0ksS0FBS2lELFFBQVUsSUFBY2pELEtBQUsyQixVQUFVOUIsRUFBSSxFQUFHRyxLQUFLa0IsVUFBVXJCLEdBQUtHLEtBQUtvRCxLQUFLdkQsRUFBRSxFQUFJLEdBQ3ZGRyxLQUFLZ0QsS0FBT2YsRUFBT2lCLFNBQVVsRCxLQUFLMkIsVUFBVTlCLEVBQUksRUFBR0csS0FBS2tCLFVBQVVyQixFQUFJb0MsRUFBT2lCLE9BQVNsRCxLQUFLb0QsS0FBS3ZELEVBQUUsRUFBSSxFQUM5RyxDQUNKLEVBRU8sWUFBQXdELEtBQVAsU0FBWUMsR0FDUkEsRUFBSUMsWUFBYyxRQUNsQkQsRUFBSUUsWUFRSkYsRUFBSUcsUUFDQXpELEtBQUtrQixVQUFVdEIsRUFDZkksS0FBS2tCLFVBQVVyQixFQUNmRyxLQUFLc0IsTUFBTTFCLEVBQUUsRUFDYkksS0FBS3NCLE1BQU16QixFQUFFLEVBQ2IsRUFDQSxFQUFHLEVBQUVhLEtBQUtnRCxJQUVkSixFQUFJSyxNQUNSLEVBQ0osRUFyR0EsR0F3R0EsYUFTSSxXQUFtQkMsRUFBbUJDLEVBQXNCQyxFQUErQjFDLEVBQW1DQyxRQUFsRSxJQUFBeUMsSUFBQUEsRUFBQSxVQUErQixJQUFBMUMsSUFBQUEsRUFBQSxXQUFtQyxJQUFBQyxJQUFBQSxFQUFBLE1BQTNHLEtBQUF1QyxNQUFBQSxFQUFtQixLQUFBQyxNQUFBQSxFQUFzQixLQUFBQyxjQUFBQSxFQUErQixLQUFBMUMsVUFBQUEsRUFBbUMsS0FBQUMsUUFBQUEsRUFScEgsS0FBQWhCLE9BQWdCLEVBQ2hCLEtBQUEwRCxZQUFzQixJQUFJeEQsRUFDMUIsS0FBQXlELGFBQXVCLElBQUl6RCxFQUMzQixLQUFBMEQsYUFBdUIsSUFBSTFELEVBQzNCLEtBQUEyRCxNQUFnQixJQUFJM0QsRUFFcEIsS0FBQTRELGFBQWUsR0FHckJuRSxLQUFLZ0MsUUFDVCxDQXFDSixPQW5DVyxZQUFBUyxTQUFQLFNBQWdCMkIsR0FDWixPQUFJQSxJQUFjcEUsS0FBSzZELE1BQ1o3RCxLQUFLa0UsTUFFTGxFLEtBQUtrRSxNQUFNekQsT0FBTyxFQUVqQyxFQUVPLFlBQUF1QixPQUFQLFdBQ0loQyxLQUFLK0QsWUFBYy9ELEtBQUs0RCxNQUFNUyxTQUFTN0QsTUFBTVIsS0FBSzZELE1BQU1RLFVBQ3hEckUsS0FBS0ssT0FBU0wsS0FBSytELFlBQVkxRCxTQUMvQixJQUFJaUUsRUFBWXRFLEtBQUsrRCxZQUFZbEQsYUFHakNiLEtBQUtnRSxhQUFlTSxFQUFVN0QsT0FBT1QsS0FBS0ssT0FBU0wsS0FBSzhELGVBQWlCOUQsS0FBS29CLFdBRzlFLElBQUltRCxFQUF1QnZFLEtBQUs0RCxNQUFNWSxTQUFTaEUsTUFBTVIsS0FBSzZELE1BQU1XLFVBQVUxRCxJQUFJd0QsR0FDOUV0RSxLQUFLaUUsYUFBZUssRUFBVTdELE1BQU04RCxFQUFnQnZFLEtBQUtxQixTQUd6RHJCLEtBQUtrRSxNQUFRbEUsS0FBS2dFLGFBQWExRCxLQUFLTixLQUFLaUUsYUFDN0MsRUFFTyxZQUFBWixLQUFQLFNBQVlDLEdBQ1JBLEVBQUlFLFlBRUpGLEVBQUltQixPQUFPekUsS0FBSzRELE1BQU1TLFNBQVN6RSxFQUFHSSxLQUFLNEQsTUFBTVMsU0FBU3hFLEdBQ3REeUQsRUFBSW9CLE9BQU8xRSxLQUFLNkQsTUFBTVEsU0FBU3pFLEVBQUdJLEtBQUs2RCxNQUFNUSxTQUFTeEUsR0FFdER5RCxFQUFJcUIsVUFBWWpFLEtBQUtrQixJQUFJNUIsS0FBS21FLGFBQWVuRSxLQUFLOEQsY0FBZ0I5RCxLQUFLSyxPQUFRTCxLQUFLNEQsTUFBTWdCLFFBQVM1RSxLQUFLNkQsTUFBTWUsU0FDOUd0QixFQUFJQyxZQUFjLE9BRWxCRCxFQUFJdUIsUUFDUixFQUNKLEVBaERBLEdBa0RBLGNBSUksV0FBbUJqQixFQUFtQkMsRUFBc0JDLEVBQWdDMUMsRUFBbUNDLFFBQW5DLElBQUFELElBQUFBLEVBQUEsV0FBbUMsSUFBQUMsSUFBQUEsRUFBQSxLQUMzSCxRQUFLLFVBQUN3QyxFQUFPRCxFQUFPRSxFQUFlMUMsRUFBV0MsSUFBUSxLLE9BRHZDLEVBQUF1QyxNQUFBQSxFQUFtQixFQUFBQyxNQUFBQSxFQUFzQixFQUFBQyxjQUFBQSxFQUFnQyxFQUFBMUMsVUFBQUEsRUFBbUMsRUFBQUMsUUFBQUEsRUFIdkgsRUFBQXlELGNBQXVCLEVBQ3ZCLEVBQUFDLGdCQUF5QixHQUk3QixFQUFLL0MsUyxDQUNULENBbUJKLE9BMUI0QixPQVNqQixZQUFBQSxPQUFQLFdBQ0loQyxLQUFLK0QsWUFBYy9ELEtBQUs0RCxNQUFNUyxTQUFTN0QsTUFBTVIsS0FBSzZELE1BQU1RLFVBQ3hEckUsS0FBS0ssT0FBU0wsS0FBSytELFlBQVkxRCxTQUMvQixJQUFJaUUsRUFBWXRFLEtBQUsrRCxZQUFZbEQsYUFHM0JtRSxFQUFRdEUsS0FBS0UsSUFBSVosS0FBSzhELGNBQWdCOUQsS0FBS0ssT0FBUUwsS0FBSzhFLGVBQWlCOUUsS0FBS29CLFVBQzlFNkQsRUFBVSxFQUFJLEVBQUl2RSxLQUFLRSxJQUFJWixLQUFLSyxPQUFRTCxLQUFLK0UsaUJBQ25EL0UsS0FBS2dFLGFBQWVNLEVBQVU3RCxNQUFNdUUsRUFBUUMsR0FBU3hFLE9BQU8sR0FHNUQsSUFBSThELEVBQXVCdkUsS0FBSzRELE1BQU1ZLFNBQVNoRSxNQUFNUixLQUFLNkQsTUFBTVcsVUFBVTFELElBQUl3RCxHQUM5RXRFLEtBQUtpRSxhQUFlSyxFQUFVN0QsTUFBTThELEVBQWdCdkUsS0FBS3FCLFNBR3pEckIsS0FBS2tFLE1BQVFsRSxLQUFLZ0UsYUFBYTFELEtBQUtOLEtBQUtpRSxhQUM3QyxFQUNKLEVBMUJBLENBQTRCaUIsR0N6SjVCLGFBY0ksV0FBb0JqRCxHQUFBLEtBQUFBLE9BQUFBLEVBWlosS0FBQUUsY0FBZ0IsSUFBSTVCLEVBSXBCLEtBQUE0RSxhQUFzQixHQUl0QixLQUFBL0MsUUFBaUIsS0FDakIsS0FBQUMsU0FBa0IsR0FDbEIsS0FBQUMsU0FBa0IsSUFHdEJ0QyxLQUFLc0QsSUFBTXJCLEVBQU9tRCxXQUFXLE1BRTdCcEYsS0FBS3FGLFNBQVcsRUFDaEJyRixLQUFLa0MsVUFBWSxFQUVqQmxDLEtBQUtzRixPQUFTLEdBQ2R0RixLQUFLMEIsUUFBVSxFQUNuQixDQWdLSixPQTdKVyxZQUFBNkQsUUFBUCxTQUFlcEUsR0FDWG5CLEtBQUtzRixPQUFPdkQsS0FBS1osRUFDckIsRUFFTyxZQUFBVSxVQUFQLFNBQWlCQyxHQUNiOUIsS0FBSzBCLFFBQVFLLEtBQUtELEdBRWxCQSxFQUFPOEIsTUFBTS9CLFVBQVVDLEdBQ3ZCQSxFQUFPK0IsTUFBTWhDLFVBQVVDLEVBQzNCLEVBR08sWUFBQTBELFVBQVAsU0FBaUJDLEdBQWpCLFdBQ0l6RixLQUFLbUMsY0FBY3ZDLEVBQUk2RixFQUFJN0YsRUFDM0JJLEtBQUttQyxjQUFjdEMsRUFBSTRGLEVBQUk1RixFQUczQkcsS0FBS3NGLE9BQU85QyxTQUFRLFNBQUFyQixHQUVaQSxFQUFLa0QsU0FBU3pFLEVBQUl1QixFQUFLaUMsS0FBS3hELEdBQUs2RixFQUFJN0YsR0FDckN1QixFQUFLa0QsU0FBU3pFLEVBQUl1QixFQUFLaUMsS0FBS3hELEdBQUs2RixFQUFJN0YsR0FDckN1QixFQUFLa0QsU0FBU3hFLEVBQUlzQixFQUFLaUMsS0FBS3ZELEdBQUs0RixFQUFJNUYsR0FDckNzQixFQUFLa0QsU0FBU3hFLEVBQUlzQixFQUFLaUMsS0FBS3ZELEdBQUs0RixFQUFJNUYsSUFDakNzQixFQUFLSyxnQkFBaUIsRUFDdEJMLEVBQUtNLHNCQUF3QixFQUFLVSxjQUFjM0IsTUFBTVcsRUFBS2tELFVBRXZFLEdBQ0osRUFDTyxZQUFBcUIsVUFBUCxTQUFpQkQsR0FDYnpGLEtBQUttQyxjQUFjdkMsRUFBSTZGLEVBQUk3RixFQUMzQkksS0FBS21DLGNBQWN0QyxFQUFJNEYsRUFBSTVGLENBQy9CLEVBQ08sWUFBQThGLFFBQVAsU0FBZUYsR0FDWHpGLEtBQUtzRixPQUFPOUMsU0FBUSxTQUFBckIsR0FBUSxPQUFBQSxFQUFLSyxnQkFBaUIsQ0FBdEIsR0FDaEMsRUFFTyxZQUFBb0UsV0FBUCxTQUFrQkMsR0FDZCxHQUFJQSxJQUFTbEcsRUFBU21HLFNBQVUsQ0FDNUIsSUFBSWxDLEVBQVEsSUFBSWYsRUFBSyxJQUFJdEMsRUFBUSxHQUFJLEtBQ2pDc0QsRUFBUSxJQUFJaEIsRUFBSyxJQUFJdEMsRUFBUSxHQUFJLE1BQ2pDd0YsRUFBUSxJQUFJbEQsRUFBSyxJQUFJdEMsRUFBUSxJQUFLLEtBQ3RDUCxLQUFLdUYsUUFBUTNCLEdBQ2I1RCxLQUFLdUYsUUFBUTFCLEdBQ2I3RCxLQUFLdUYsUUFBUVEsR0FFYixJQUFJQyxFQUFVLElBQUlkLEVBQU90QixFQUFPQyxHQUM1Qm9DLEVBQVUsSUFBSWYsRUFBT3JCLEVBQU9rQyxHQUM1QkcsRUFBVSxJQUFJaEIsRUFBT3RCLEVBQU9tQyxHQUNoQy9GLEtBQUs2QixVQUFVbUUsR0FDZmhHLEtBQUs2QixVQUFVb0UsR0FDZmpHLEtBQUs2QixVQUFVcUUsRUFDbkIsQ0FFQSxHQUFJTCxJQUFTbEcsRUFBU3dHLGNBQWUsQ0FDN0J2QyxFQUFRLElBQUlmLEVBQUssSUFBSXRDLEVBQVEsR0FBSSxLQUNqQ3NELEVBQVEsSUFBSWhCLEVBQUssSUFBSXRDLEVBQVEsR0FBSSxNQUNqQ3dGLEVBQVEsSUFBSWxELEVBQUssSUFBSXRDLEVBQVEsSUFBSyxLQUZ0QyxJQUdJNkYsRUFBUSxJQUFJdkQsRUFBSyxJQUFJdEMsRUFBUSxJQUFLLE1BQ3RDUCxLQUFLdUYsUUFBUTNCLEdBQ2I1RCxLQUFLdUYsUUFBUTFCLEdBQ2I3RCxLQUFLdUYsUUFBUVEsR0FDYi9GLEtBQUt1RixRQUFRYSxHQUVUSixFQUFVLElBQUlkLEVBQU90QixFQUFPQyxHQUM1Qm9DLEVBQVUsSUFBSWYsRUFBT3JCLEVBQU9rQyxHQUM1QkcsRUFBVSxJQUFJaEIsRUFBT3RCLEVBQU9tQyxHQUZoQyxJQUdJTSxFQUFVLElBQUluQixFQUFPYSxFQUFPSyxHQUM1QkUsRUFBVSxJQUFJcEIsRUFBT3JCLEVBQU91QyxHQUNoQ3BHLEtBQUs2QixVQUFVbUUsR0FDZmhHLEtBQUs2QixVQUFVb0UsR0FDZmpHLEtBQUs2QixVQUFVcUUsR0FDZmxHLEtBQUs2QixVQUFVd0UsR0FDZnJHLEtBQUs2QixVQUFVeUUsRUFDbkIsQ0FFQSxHQUFJVCxJQUFTbEcsRUFBUzRHLE9BQVEsQ0FDdEIzQyxFQUFRLElBQUlmLEVBQUssSUFBSXRDLEVBQVEsR0FBSSxLQUNqQ3NELEVBQVEsSUFBSWhCLEVBQUssSUFBSXRDLEVBQVEsR0FBSSxNQUNqQ3dGLEVBQVEsSUFBSWxELEVBQUssSUFBSXRDLEVBQVEsSUFBSyxLQUNsQzZGLEVBQVEsSUFBSXZELEVBQUssSUFBSXRDLEVBQVEsSUFBSyxNQUN0Q1AsS0FBS3VGLFFBQVEzQixHQUNiNUQsS0FBS3VGLFFBQVExQixHQUNiN0QsS0FBS3VGLFFBQVFRLEdBQ2IvRixLQUFLdUYsUUFBUWEsR0FFVEosRUFBVSxJQUFJZCxFQUFPdEIsRUFBT0MsR0FDNUJvQyxFQUFVLElBQUlmLEVBQU90QixFQUFPd0MsRUFBTyxJQUFJMUYsS0FBS0MsS0FBSyxJQUNqRHVGLEVBQVUsSUFBSWhCLEVBQU9yQixFQUFPdUMsR0FDNUJDLEVBQVUsSUFBSW5CLEVBQU9hLEVBQU9LLEdBQzVCRSxFQUFVLElBQUlwQixFQUFPdEIsRUFBT21DLEdBSmhDLElBS0lTLEVBQVUsSUFBSXRCLEVBQU9yQixFQUFPa0MsRUFBTyxJQUFJckYsS0FBS0MsS0FBSyxJQUNyRFgsS0FBSzZCLFVBQVVtRSxHQUNmaEcsS0FBSzZCLFVBQVVvRSxHQUNmakcsS0FBSzZCLFVBQVVxRSxHQUNmbEcsS0FBSzZCLFVBQVV3RSxHQUNmckcsS0FBSzZCLFVBQVV5RSxHQUNmdEcsS0FBSzZCLFVBQVUyRSxFQUNuQixDQUVBLEdBQUlYLElBQVNsRyxFQUFTOEcsZUFBZ0IsQ0FDOUI3QyxFQUFRLElBQUlmLEVBQUssSUFBSXRDLEVBQVEsR0FBSSxLQUNqQ3NELEVBQVEsSUFBSWhCLEVBQUssSUFBSXRDLEVBQVEsR0FBSSxNQUNqQ3dGLEVBQVEsSUFBSWxELEVBQUssSUFBSXRDLEVBQVEsSUFBSyxLQUNsQzZGLEVBQVEsSUFBSXZELEVBQUssSUFBSXRDLEVBQVEsSUFBSyxNQUh0QyxJQUlJbUcsRUFBUSxJQUFJN0QsRUFBSyxJQUFJdEMsRUFBUSxJQUFLLE1BQ3RDUCxLQUFLdUYsUUFBUTNCLEdBQ2I1RCxLQUFLdUYsUUFBUTFCLEdBQ2I3RCxLQUFLdUYsUUFBUVEsR0FDYi9GLEtBQUt1RixRQUFRYSxHQUNicEcsS0FBS3VGLFFBQVFtQixHQUVUVixFQUFVLElBQUlkLEVBQU90QixFQUFPQyxHQUM1Qm9DLEVBQVUsSUFBSWYsRUFBT3RCLEVBQU9tQyxHQUM1QkcsRUFBVSxJQUFJaEIsRUFBT3JCLEVBQU91QyxHQUM1QkMsRUFBVSxJQUFJbkIsRUFBT2EsRUFBT0ssR0FDNUJFLEVBQVUsSUFBSXBCLEVBQU90QixFQUFPOEMsRUFBTyxJQUFJaEcsS0FBS0MsS0FBSyxJQUNqRDZGLEVBQVUsSUFBSXRCLEVBQU9yQixFQUFPNkMsRUFBTyxJQUFJaEcsS0FBS0MsS0FBSyxJQUxyRCxJQU1JZ0csRUFBVSxJQUFJekIsRUFBT2EsRUFBT1csRUFBTyxJQUFJaEcsS0FBS0MsS0FBSyxJQUNqRGlHLEVBQVUsSUFBSTFCLEVBQU9rQixFQUFPTSxFQUFPLElBQUloRyxLQUFLQyxLQUFLLElBQ3JEWCxLQUFLNkIsVUFBVW1FLEdBQ2ZoRyxLQUFLNkIsVUFBVW9FLEdBQ2ZqRyxLQUFLNkIsVUFBVXFFLEdBQ2ZsRyxLQUFLNkIsVUFBVXdFLEdBQ2ZyRyxLQUFLNkIsVUFBVXlFLEdBQ2Z0RyxLQUFLNkIsVUFBVTJFLEdBQ2Z4RyxLQUFLNkIsVUFBVThFLEdBQ2YzRyxLQUFLNkIsVUFBVStFLEVBQ25CLENBQ0osRUFFTyxZQUFBQyxNQUFQLFdBQ0lDLHNCQUFzQjlHLEtBQUsrRyxTQUFTQyxLQUFLaEgsTUFDN0MsRUFFUSxZQUFBK0csU0FBUixTQUFpQkUsR0FDYmpILEtBQUtrQyxVQUFZeEIsS0FBS2tCLElBQUlxRixFQUFjakgsS0FBS3FGLFNBQVVyRixLQUFLbUYsY0FDNURuRixLQUFLcUYsU0FBVzRCLEVBRWhCakgsS0FBS2dDLE9BQU9oQyxLQUFLa0MsV0FFakJsQyxLQUFLcUQsT0FFTHlELHNCQUFzQjlHLEtBQUsrRyxTQUFTQyxLQUFLaEgsTUFDN0MsRUFFUSxZQUFBZ0MsT0FBUixTQUFlRSxHQUFmLFdBQ0lsQyxLQUFLc0YsT0FBTzlDLFNBQVEsU0FBQ3JCLEdBQVMsT0FBQUEsRUFBS2EsT0FBTyxFQUFLQyxPQUFRQyxFQUFXLEVBQUtDLGNBQWUsRUFBS0MsUUFBUyxFQUFLQyxTQUFVLEVBQUtDLFNBQTFGLElBQzlCdEMsS0FBSzBCLFFBQVFjLFNBQVEsU0FBQ1YsR0FBVyxPQUFBQSxFQUFPRSxRQUFQLEdBQ3JDLEVBRVEsWUFBQXFCLEtBQVIsc0JBRUlyRCxLQUFLc0QsSUFBSTRELFVBQVUsRUFBRyxFQUFHbEgsS0FBS2lDLE9BQU9jLE1BQU8vQyxLQUFLaUMsT0FBT2lCLFFBRXhEbEQsS0FBSzBCLFFBQVFjLFNBQVEsU0FBQzJFLEdBQVcsT0FBQUEsRUFBTzlELEtBQUssRUFBS0MsSUFBakIsSUFDakN0RCxLQUFLc0YsT0FBTzlDLFNBQVEsU0FBQ3JCLEdBQVMsT0FBQUEsRUFBS2tDLEtBQUssRUFBS0MsSUFBZixHQUNsQyxFQUNKLEVBdExBLEdDQU1yQixFQUFTbUYsU0FBU0MsZUFBZSxVQUV2QyxTQUFTQyxJQUNMckYsRUFBT2MsTUFBU3dFLE9BQU9DLFdBQ3ZCdkYsRUFBT2lCLE9BQVNxRSxPQUFPRSxXQUMzQixDQUVBRixPQUFPRyxpQkFBaUIsU0FBVUosR0FDbENBLElBR0EsSUFBTUssRUFBTyxJQUFJQyxFQUFLM0YsR0FFdEJBLEVBQU80RixZQUFjRixFQUFLbkMsVUFBVXdCLEtBQUtXLEdBQ3pDMUYsRUFBTzZGLFlBQWNILEVBQUtqQyxVQUFVc0IsS0FBS1csR0FDekMxRixFQUFPOEYsVUFBWUosRUFBS2hDLFFBQVFxQixLQUFLVyxHQUVyQyxJQUFNSyxFQUFXdEgsS0FBS3VILE1BQU12SCxLQUFLd0gsU0FBV0MsT0FBT0MsS0FBS3pJLEdBQVVVLE9BQVMsR0FDM0VzSCxFQUFLL0IsV0FBV29DLEdBRWhCTCxFQUFLZCxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3ByaW5nLXRveS8uL3NyYy91dGlsaXRpZXMudHMiLCJ3ZWJwYWNrOi8vc3ByaW5nLXRveS8uL3NyYy9lbnRpdGllcy50cyIsIndlYnBhY2s6Ly9zcHJpbmctdG95Ly4vc3JjL2dhbWUudHMiLCJ3ZWJwYWNrOi8vc3ByaW5nLXRveS8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIERlbW9UeXBlIHtcclxuICAgIFRyaWFuZ2xlLFxyXG4gICAgUGFyYWxsZWxvZ3JhbSxcclxuICAgIFNxdWFyZSxcclxuICAgIENlbnRlcmVkU3F1YXJlXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVmVjdG9yMiB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgeDpudW1iZXIgPSAwLCBwdWJsaWMgeTpudW1iZXIgPSAwKSB7fTtcclxuXHJcbiAgICBwdWJsaWMgYWRkKHZlY3RvcjpWZWN0b3IyKTp2b2lkIHtcclxuICAgICAgICAvLyBBZGQgYW5vdGhlciBWZWN0b3IyIHRvIHRoaXMgVmVjdG9yMlxyXG4gICAgICAgIHRoaXMueCArPSB2ZWN0b3IueDtcclxuICAgICAgICB0aGlzLnkgKz0gdmVjdG9yLnk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBzdWJ0cmFjdCh2ZWN0b3I6VmVjdG9yMik6dm9pZCB7XHJcbiAgICAgICAgLy8gU3VidHJhY3QgYW5vdGhlciBWZWN0b3IyIGZyb20gdGhpcyBWZWN0b3IyXHJcbiAgICAgICAgdGhpcy54IC09IHZlY3Rvci54O1xyXG4gICAgICAgIHRoaXMueSAtPSB2ZWN0b3IueTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbXVsdGlwbHlCeShzY2FsYXI6bnVtYmVyKTp2b2lkIHtcclxuICAgICAgICAvLyBTdW0gdGhpcyBWZWN0b3IyIHdpdGggdGhlIG5lZ2F0aXZlIG9mIGFub3RoZXIgYW5kIHJldHVybiBhIG5ldyBWZWN0b3IyIG9mIHRoZSByZXN1bHRcclxuICAgICAgICB0aGlzLnggKj0gc2NhbGFyXHJcbiAgICAgICAgdGhpcy55ICo9IHNjYWxhcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbm9ybWFsaXplKCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBseUJ5KDEvdGhpcy5sZW5ndGgoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsdXModmVjdG9yOlZlY3RvcjIpOlZlY3RvcjIge1xyXG4gICAgICAgIC8vIFN1bSB0aGlzIFZlY3RvcjIgd2l0aCBhbm90aGVyIGFuZCByZXR1cm4gYSBuZXcgVmVjdG9yMiBvZiB0aGUgcmVzdWx0XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCArIHZlY3Rvci54LCB0aGlzLnkgKyB2ZWN0b3IueSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBtaW51cyh2ZWN0b3I6VmVjdG9yMik6VmVjdG9yMiB7XHJcbiAgICAgICAgLy8gU3VtIHRoaXMgVmVjdG9yMiB3aXRoIHRoZSBuZWdhdGl2ZSBvZiBhbm90aGVyIGFuZCByZXR1cm4gYSBuZXcgVmVjdG9yMiBvZiB0aGUgcmVzdWx0XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAtIHZlY3Rvci54LCB0aGlzLnkgLSB2ZWN0b3IueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRpbWVzKHNjYWxhcjpudW1iZXIpOlZlY3RvcjIge1xyXG4gICAgICAgIC8vIFN1bSB0aGlzIFZlY3RvcjIgd2l0aCB0aGUgbmVnYXRpdmUgb2YgYW5vdGhlciBhbmQgcmV0dXJuIGEgbmV3IFZlY3RvcjIgb2YgdGhlIHJlc3VsdFxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKiBzY2FsYXIsIHRoaXMueSAqIHNjYWxhcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxlbmd0aCgpOm51bWJlciB7XHJcbiAgICAgICAgLy8gR2V0IGxlbmd0aCBvZiB0aGUgdmVjdG9yXHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLngsIDIpICsgTWF0aC5wb3codGhpcy55LCAyKSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbm9ybWFsaXplZCgpOlZlY3RvcjIge1xyXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCgpID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGltZXMoMS90aGlzLmxlbmd0aCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRvdCh2ZWN0b3I6VmVjdG9yMik6bnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54ICogdmVjdG9yLnggKyB0aGlzLnkgKiB2ZWN0b3IueTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xhbXAobWFnbml0dWRlOm51bWJlcik6dm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoKCkgPiBtYWduaXR1ZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5ub3JtYWxpemUoKVxyXG4gICAgICAgICAgICB0aGlzLm11bHRpcGx5QnkobWFnbml0dWRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvcHkoKTpWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXNzIHtcclxuICAgIHByaXZhdGUgc3ByaW5nczpTcHJpbmdbXTtcclxuICAgIHByaXZhdGUgX3ZlbG9jaXR5OlZlY3RvcjI7XHJcbiAgICBwdWJsaWMgaXNCZWluZ0RyYWdnZWQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIHJlbGF0aXZlTW91c2VQb3NpdGlvbjpWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9wb3NpdGlvbjpWZWN0b3IyID0gbmV3IFZlY3RvcjIoMjUsIDI1KSwgcHJpdmF0ZSBtYXNzOm51bWJlciA9IDEsIHByaXZhdGUgc3RpZmZuZXNzOm51bWJlciA9IDFlLTcsIHByaXZhdGUgZGFtcGluZzpudW1iZXIgPSAxZTAsIHByaXZhdGUgX3NpemU6VmVjdG9yMiA9IG5ldyBWZWN0b3IyKDUwLCA1MCksIHByaXZhdGUgZHJhZ0NvZWZmaWNpZW50Om51bWJlciA9IDVlLTQpIHtcclxuICAgICAgICB0aGlzLnNwcmluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IG5ldyBWZWN0b3IyKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXQgcG9zaXRpb24oKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgdmVsb2NpdHkoKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92ZWxvY2l0eTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgc2l6ZSgpIDogVmVjdG9yMiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnZXQgbGVmdCgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb24ueCAtIHRoaXMuX3NpemUueC8yO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCByaWdodCgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb24ueCArIHRoaXMuX3NpemUueC8yO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldCB0b3AoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uLnkgLSB0aGlzLl9zaXplLnkvMjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgYm90dG9tKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbi55ICsgdGhpcy5fc2l6ZS55LzI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBtaW5TaXplKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLl9zaXplLngsIHRoaXMuX3NpemUueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFNwcmluZyhzcHJpbmc6U3ByaW5nKTp2b2lkIHtcclxuICAgICAgICB0aGlzLnNwcmluZ3MucHVzaChzcHJpbmcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdXBkYXRlKGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCwgZGVsdGFUaW1lOm51bWJlciwgbW91c2VQb3NpdGlvbjpWZWN0b3IyLCBncmF2aXR5Om51bWJlciwgbWF4Rm9yY2U6bnVtYmVyLCBtYXhTcGVlZDpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQmVpbmdEcmFnZ2VkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9sZFBvc2l0aW9uID0gdGhpcy5fcG9zaXRpb24uY29weSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG1vdXNlUG9zaXRpb24ubWludXModGhpcy5yZWxhdGl2ZU1vdXNlUG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLl92ZWxvY2l0eSA9IHRoaXMuX3Bvc2l0aW9uLm1pbnVzKG9sZFBvc2l0aW9uKS50aW1lcygxL2RlbHRhVGltZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGZvcmNlID0gbmV3IFZlY3RvcjIoKTtcclxuICAgICAgICAgICAgLy8gR3Jhdml0eVxyXG4gICAgICAgICAgICBmb3JjZS5hZGQobmV3IFZlY3RvcjIoMCwgdGhpcy5tYXNzICogZ3Jhdml0eSkpO1xyXG4gICAgICAgICAgICAvLyBTcHJpbmcgIFxyXG4gICAgICAgICAgICB0aGlzLnNwcmluZ3MuZm9yRWFjaChzcHJpbmcgPT4ge2ZvcmNlLmFkZChzcHJpbmcuZ2V0Rm9yY2UodGhpcykpfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBCb3VuY2Ugb2ZmIHdhbGxzXHJcbiAgICAgICAgICAgIGxldCBjb250YWN0U3ByaW5nczpDb250YWN0U3ByaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGVmdCA8PSAwKSAgICAgICAgICAgICAgICAge2NvbnRhY3RTcHJpbmdzLnB1c2gobmV3IENvbnRhY3RTcHJpbmcodGhpcywgbmV3IE1hc3MobmV3IFZlY3RvcjIoLXRoaXMuX3NpemUueC8yICAgICAgICAgICAgICAgICwgdGhpcy5fcG9zaXRpb24ueSkpLCB0aGlzLl9zaXplLngpKX0gLy8gTGVmdFxyXG4gICAgICAgICAgICBpZiAodGhpcy5yaWdodCA+PSBjYW52YXMud2lkdGgpICAgICB7Y29udGFjdFNwcmluZ3MucHVzaChuZXcgQ29udGFjdFNwcmluZyh0aGlzLCBuZXcgTWFzcyhuZXcgVmVjdG9yMihjYW52YXMud2lkdGgrdGhpcy5fc2l6ZS54LzIgICAgLCB0aGlzLl9wb3NpdGlvbi55KSksIHRoaXMuX3NpemUueCkpfSAvLyBSaWdodFxyXG4gICAgICAgICAgICBpZiAodGhpcy50b3AgPD0gMCkgICAgICAgICAgICAgICAgICB7Y29udGFjdFNwcmluZ3MucHVzaChuZXcgQ29udGFjdFNwcmluZyh0aGlzLCBuZXcgTWFzcyhuZXcgVmVjdG9yMih0aGlzLl9wb3NpdGlvbi54LCAtdGhpcy5fc2l6ZS55LzIgICAgICAgICAgICAgICAgKSksIHRoaXMuX3NpemUueSkpfSAvLyBUb3BcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm90dG9tID49IGNhbnZhcy5oZWlnaHQpICAge2NvbnRhY3RTcHJpbmdzLnB1c2gobmV3IENvbnRhY3RTcHJpbmcodGhpcywgbmV3IE1hc3MobmV3IFZlY3RvcjIodGhpcy5fcG9zaXRpb24ueCwgY2FudmFzLmhlaWdodCt0aGlzLl9zaXplLnkvMiAgICkpLCB0aGlzLl9zaXplLnkpKX0gLy8gQm90dG9tXHJcbiAgICAgICAgICAgIGNvbnRhY3RTcHJpbmdzLmZvckVhY2goc3ByaW5nID0+IHtcclxuICAgICAgICAgICAgICAgIGZvcmNlLmFkZChzcHJpbmcuZ2V0Rm9yY2UodGhpcykpfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBaXIgcmVzaXN0YW5jZVxyXG4gICAgICAgICAgICBmb3JjZS5hZGQodGhpcy5fdmVsb2NpdHkubm9ybWFsaXplZCgpLnRpbWVzKC10aGlzLmRyYWdDb2VmZmljaWVudCAqIE1hdGgucG93KHRoaXMuX3ZlbG9jaXR5Lmxlbmd0aCgpLCAyKSkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ29tcHV0ZSBkaWZmZXJlbnRpYWwgZXF1YXRpb25zXHJcbiAgICAgICAgICAgIGxldCBhY2NlbGVyYXRpb246VmVjdG9yMiA9IGZvcmNlLnRpbWVzKDEvdGhpcy5tYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fdmVsb2NpdHkuYWRkKGFjY2VsZXJhdGlvbi50aW1lcyhkZWx0YVRpbWUpKTtcclxuICAgICAgICAgICAgdGhpcy5fdmVsb2NpdHkuY2xhbXAobWF4U3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi5hZGQodGhpcy5fdmVsb2NpdHkudGltZXMoZGVsdGFUaW1lKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQdXQgaGFyZCBsaW1pdCBvbiB3YWxsc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yaWdodCA8PSAwKSAgICAgICAgICAgIHt0aGlzLl92ZWxvY2l0eS54ID0gMDsgdGhpcy5fcG9zaXRpb24ueCA9IC10aGlzLnNpemUueC8yICsgMX0gLy8gTGVmdFxyXG4gICAgICAgICAgICBpZiAodGhpcy5sZWZ0ID49IGNhbnZhcy53aWR0aCkgIHt0aGlzLl92ZWxvY2l0eS54ID0gMDsgdGhpcy5fcG9zaXRpb24ueCA9IGNhbnZhcy53aWR0aCArIHRoaXMuc2l6ZS54LzIgLSAxfSAvLyBSaWdodFxyXG4gICAgICAgICAgICBpZiAodGhpcy5ib3R0b20gPD0gMCkgICAgICAgICAgIHt0aGlzLl92ZWxvY2l0eS55ID0gMDsgdGhpcy5fcG9zaXRpb24ueSA9IC10aGlzLnNpemUueS8yICsgMX0gLy8gVG9wXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvcCA+PSBjYW52YXMuaGVpZ2h0KSAge3RoaXMuX3ZlbG9jaXR5LnkgPSAwOyB0aGlzLl9wb3NpdGlvbi55ID0gY2FudmFzLmhlaWdodCArIHRoaXMuc2l6ZS55LzIgLSAxfSAvLyBCb3R0b21cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoY3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6dm9pZCB7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAvLyBjdHgucm91bmRSZWN0KFxyXG4gICAgICAgIC8vICAgICB0aGlzLmxlZnQsXHJcbiAgICAgICAgLy8gICAgIHRoaXMudG9wLFxyXG4gICAgICAgIC8vICAgICB0aGlzLl9zaXplLngsXHJcbiAgICAgICAgLy8gICAgIHRoaXMuX3NpemUueSxcclxuICAgICAgICAvLyAgICAgdGhpcy5taW5TaXplIC8gNVxyXG4gICAgICAgIC8vICk7XHJcbiAgICAgICAgY3R4LmVsbGlwc2UoXHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLngsXHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLnksXHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUueC8yLFxyXG4gICAgICAgICAgICB0aGlzLl9zaXplLnkvMixcclxuICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgMCwgMipNYXRoLlBJXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU3ByaW5nIHtcclxuICAgIHByb3RlY3RlZCBsZW5ndGg6bnVtYmVyID0gMDtcclxuICAgIHByb3RlY3RlZCByZWxhdGl2ZVBvczpWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcclxuICAgIHByb3RlY3RlZCBlbGFzdGljRm9yY2U6VmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XHJcbiAgICBwcm90ZWN0ZWQgZGFtcGluZ0ZvcmNlOlZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xyXG4gICAgcHJvdGVjdGVkIGZvcmNlOlZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xyXG5cclxuICAgIHByb3RlY3RlZCBkZWZhdWx0V2lkdGggPSAxMDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbWFzczE6TWFzcywgcHVibGljIG1hc3MyOk1hc3MsIHByb3RlY3RlZCBuYXR1cmFsTGVuZ3RoID0gMjAwLCBwcm90ZWN0ZWQgc3RpZmZuZXNzOm51bWJlciA9IDFlLTQsIHByb3RlY3RlZCBkYW1waW5nOm51bWJlciA9IDFlLTMpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGb3JjZShkYXR1bU1hc3M6TWFzcyk6VmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKGRhdHVtTWFzcyA9PT0gdGhpcy5tYXNzMikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JjZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JjZS50aW1lcygtMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTp2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbGF0aXZlUG9zID0gdGhpcy5tYXNzMS5wb3NpdGlvbi5taW51cyh0aGlzLm1hc3MyLnBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucmVsYXRpdmVQb3MubGVuZ3RoKCk7XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IHRoaXMucmVsYXRpdmVQb3Mubm9ybWFsaXplZCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEVsYXN0aWNzXHJcbiAgICAgICAgdGhpcy5lbGFzdGljRm9yY2UgPSBkaXJlY3Rpb24udGltZXMoKHRoaXMubGVuZ3RoIC0gdGhpcy5uYXR1cmFsTGVuZ3RoKSAqIHRoaXMuc3RpZmZuZXNzKVxyXG5cclxuICAgICAgICAvLyBEYW1waW5nXHJcbiAgICAgICAgbGV0IHJlbGF0aXZlU3BlZWQ6bnVtYmVyID0gdGhpcy5tYXNzMS52ZWxvY2l0eS5taW51cyh0aGlzLm1hc3MyLnZlbG9jaXR5KS5kb3QoZGlyZWN0aW9uKTtcclxuICAgICAgICB0aGlzLmRhbXBpbmdGb3JjZSA9IGRpcmVjdGlvbi50aW1lcyhyZWxhdGl2ZVNwZWVkICogdGhpcy5kYW1waW5nKVxyXG5cclxuICAgICAgICAvLyBUb3RhbCBmb3JjZVxyXG4gICAgICAgIHRoaXMuZm9yY2UgPSB0aGlzLmVsYXN0aWNGb3JjZS5wbHVzKHRoaXMuZGFtcGluZ0ZvcmNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyhjdHg6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTp2b2lkIHtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcblxyXG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy5tYXNzMS5wb3NpdGlvbi54LCB0aGlzLm1hc3MxLnBvc2l0aW9uLnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8odGhpcy5tYXNzMi5wb3NpdGlvbi54LCB0aGlzLm1hc3MyLnBvc2l0aW9uLnkpO1xyXG5cclxuICAgICAgICBjdHgubGluZVdpZHRoID0gTWF0aC5taW4odGhpcy5kZWZhdWx0V2lkdGggKiB0aGlzLm5hdHVyYWxMZW5ndGggLyB0aGlzLmxlbmd0aCwgdGhpcy5tYXNzMS5taW5TaXplLCB0aGlzLm1hc3MyLm1pblNpemUpO1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdncmF5JztcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDb250YWN0U3ByaW5nIGV4dGVuZHMgU3ByaW5nIHtcclxuICAgIHByaXZhdGUgaGVydHpFeHBvbmVudDpudW1iZXIgPSAyO1xyXG4gICAgcHJpdmF0ZSBwZW5hbHR5RXhwb25lbnQ6bnVtYmVyID0gLjU7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG1hc3MxOk1hc3MsIHB1YmxpYyBtYXNzMjpNYXNzLCBwcm90ZWN0ZWQgbmF0dXJhbExlbmd0aDpudW1iZXIsIHByb3RlY3RlZCBzdGlmZm5lc3M6bnVtYmVyID0gMWUtNSwgcHJvdGVjdGVkIGRhbXBpbmc6bnVtYmVyID0gMWUtMikge1xyXG4gICAgICAgIHN1cGVyKG1hc3MyLCBtYXNzMSwgbmF0dXJhbExlbmd0aCwgc3RpZmZuZXNzLCBkYW1waW5nKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUoKTp2b2lkIHtcclxuICAgICAgICB0aGlzLnJlbGF0aXZlUG9zID0gdGhpcy5tYXNzMS5wb3NpdGlvbi5taW51cyh0aGlzLm1hc3MyLnBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMucmVsYXRpdmVQb3MubGVuZ3RoKCk7XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IHRoaXMucmVsYXRpdmVQb3Mubm9ybWFsaXplZCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEVsYXN0aWNzXHJcbiAgICAgICAgY29uc3QgaG9va2UgPSBNYXRoLnBvdyh0aGlzLm5hdHVyYWxMZW5ndGggLSB0aGlzLmxlbmd0aCwgdGhpcy5oZXJ0ekV4cG9uZW50KSAqIHRoaXMuc3RpZmZuZXNzO1xyXG4gICAgICAgIGNvbnN0IHBlbmFsdHkgPSAxICsgMSAvIE1hdGgucG93KHRoaXMubGVuZ3RoLCB0aGlzLnBlbmFsdHlFeHBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5lbGFzdGljRm9yY2UgPSBkaXJlY3Rpb24udGltZXMoaG9va2UgKiBwZW5hbHR5KS50aW1lcygtMSk7XHJcblxyXG4gICAgICAgIC8vIERhbXBpbmdcclxuICAgICAgICBsZXQgcmVsYXRpdmVTcGVlZDpudW1iZXIgPSB0aGlzLm1hc3MxLnZlbG9jaXR5Lm1pbnVzKHRoaXMubWFzczIudmVsb2NpdHkpLmRvdChkaXJlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMuZGFtcGluZ0ZvcmNlID0gZGlyZWN0aW9uLnRpbWVzKHJlbGF0aXZlU3BlZWQgKiB0aGlzLmRhbXBpbmcpXHJcblxyXG4gICAgICAgIC8vIFRvdGFsIGZvcmNlXHJcbiAgICAgICAgdGhpcy5mb3JjZSA9IHRoaXMuZWxhc3RpY0ZvcmNlLnBsdXModGhpcy5kYW1waW5nRm9yY2UpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRGVtb1R5cGUsIFZlY3RvcjIgfSBmcm9tIFwiLi91dGlsaXRpZXNcIjtcclxuaW1wb3J0IHsgTWFzcywgU3ByaW5nIH0gZnJvbSBcIi4vZW50aXRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICAgIHByaXZhdGUgY3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgbW91c2VQb3NpdGlvbiA9IG5ldyBWZWN0b3IyKCk7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXN0VGltZTpudW1iZXI7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgcHJpdmF0ZSBkZWx0YVRpbWU6bnVtYmVyOyAvLyBtaWxsaXNlY29uZHNcclxuICAgIHByaXZhdGUgbWF4RGVsdGFUaW1lOm51bWJlciA9IDUwOyAvL21pbGxpc2Vjb25kc1xyXG4gICAgcHJpdmF0ZSBtYXNzZXM6TWFzc1tdO1xyXG4gICAgcHJpdmF0ZSBzcHJpbmdzOlNwcmluZ1tdO1xyXG5cclxuICAgIHByaXZhdGUgZ3Jhdml0eTpudW1iZXIgPSA1ZS00OyAvLyBwaXhlbHMvbXNlYy9tc2VjXHJcbiAgICBwcml2YXRlIG1heEZvcmNlOm51bWJlciA9IDFlLTE7XHJcbiAgICBwcml2YXRlIG1heFNwZWVkOm51bWJlciA9IDFlNDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZGVsdGFUaW1lID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5tYXNzZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnNwcmluZ3MgPSBbXTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGFkZE1hc3MobWFzczpNYXNzKTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1hc3Nlcy5wdXNoKG1hc3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTcHJpbmcoc3ByaW5nOlNwcmluZyk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5zcHJpbmdzLnB1c2goc3ByaW5nKTtcclxuICAgICAgICBcclxuICAgICAgICBzcHJpbmcubWFzczEuYWRkU3ByaW5nKHNwcmluZyk7XHJcbiAgICAgICAgc3ByaW5nLm1hc3MyLmFkZFNwcmluZyhzcHJpbmcpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2dDpNb3VzZUV2ZW50KTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1vdXNlUG9zaXRpb24ueCA9IGV2dC54O1xyXG4gICAgICAgIHRoaXMubW91c2VQb3NpdGlvbi55ID0gZXZ0Lnk7XHJcblxyXG4gICAgICAgIC8vIFdvcmsgb3V0IHdoZXRoZXIgdGhlIG1vdXNlIGNsaWNrIHdhcyB3aXRoaW4gYW55IG9mIHRoZSBtYXNzZXNcclxuICAgICAgICB0aGlzLm1hc3Nlcy5mb3JFYWNoKG1hc3MgPT4ge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBtYXNzLnBvc2l0aW9uLnggLSBtYXNzLnNpemUueCA8PSBldnQueCAmJlxyXG4gICAgICAgICAgICAgICAgbWFzcy5wb3NpdGlvbi54ICsgbWFzcy5zaXplLnggPj0gZXZ0LnggJiZcclxuICAgICAgICAgICAgICAgIG1hc3MucG9zaXRpb24ueSAtIG1hc3Muc2l6ZS55IDw9IGV2dC55ICYmXHJcbiAgICAgICAgICAgICAgICBtYXNzLnBvc2l0aW9uLnkgKyBtYXNzLnNpemUueSA+PSBldnQueSApIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNzLmlzQmVpbmdEcmFnZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBtYXNzLnJlbGF0aXZlTW91c2VQb3NpdGlvbiA9IHRoaXMubW91c2VQb3NpdGlvbi5taW51cyhtYXNzLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldnQ6TW91c2VFdmVudCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb3VzZVBvc2l0aW9uLnggPSBldnQueDtcclxuICAgICAgICB0aGlzLm1vdXNlUG9zaXRpb24ueSA9IGV2dC55O1xyXG4gICAgfVxyXG4gICAgcHVibGljIG1vdXNlVXAoZXZ0Ok1vdXNlRXZlbnQpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubWFzc2VzLmZvckVhY2gobWFzcyA9PiBtYXNzLmlzQmVpbmdEcmFnZ2VkID0gZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgY3JlYXRlRGVtbyh0eXBlOkRlbW9UeXBlKTp2b2lkIHtcclxuICAgICAgICBpZiAodHlwZSA9PT0gRGVtb1R5cGUuVHJpYW5nbGUpIHtcclxuICAgICAgICAgICAgbGV0IG1hc3MxID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMTUsIDMwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMiA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwLCAzMDApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3MzID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAwLCAzMCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1hc3MobWFzczEpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1hc3MobWFzczIpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1hc3MobWFzczMpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNwcmluZzEgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzMik7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmcyID0gbmV3IFNwcmluZyhtYXNzMiwgbWFzczMpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMyA9IG5ldyBTcHJpbmcobWFzczEsIG1hc3MzKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzIpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmczKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSBEZW1vVHlwZS5QYXJhbGxlbG9ncmFtKSB7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMSA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwLCAzMCkpO1xyXG4gICAgICAgICAgICBsZXQgbWFzczIgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMCwgMzAwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMyA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwMCwgMzApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3M0ID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAwLCAzMDApKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MxKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MyKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MzKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3M0KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzcHJpbmcxID0gbmV3IFNwcmluZyhtYXNzMSwgbWFzczIpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMiA9IG5ldyBTcHJpbmcobWFzczIsIG1hc3MzKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzMgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzMyk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmc0ID0gbmV3IFNwcmluZyhtYXNzMywgbWFzczQpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nNSA9IG5ldyBTcHJpbmcobWFzczIsIG1hc3M0KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzIpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmczKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nNCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IERlbW9UeXBlLlNxdWFyZSkge1xyXG4gICAgICAgICAgICBsZXQgbWFzczEgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMCwgMzApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3MyID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAsIDMwMCkpO1xyXG4gICAgICAgICAgICBsZXQgbWFzczMgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMDAsIDMwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzNCA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwMCwgMzAwKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzNCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMSA9IG5ldyBTcHJpbmcobWFzczEsIG1hc3MyKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzIgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzNCwgMjAwKk1hdGguc3FydCgyKSk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmczID0gbmV3IFNwcmluZyhtYXNzMiwgbWFzczQpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nNCA9IG5ldyBTcHJpbmcobWFzczMsIG1hc3M0KTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzUgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzMyk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmc2ID0gbmV3IFNwcmluZyhtYXNzMiwgbWFzczMsIDIwMCpNYXRoLnNxcnQoMikpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmcxKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzMpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmc0KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IERlbW9UeXBlLkNlbnRlcmVkU3F1YXJlKSB7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMSA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwLCAzMCkpO1xyXG4gICAgICAgICAgICBsZXQgbWFzczIgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMCwgMzAwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMyA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwMCwgMzApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3M0ID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAwLCAzMDApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3M1ID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMTUwLCAxNTApKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MxKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MyKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MzKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3M0KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3M1KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzcHJpbmcxID0gbmV3IFNwcmluZyhtYXNzMSwgbWFzczIpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMiA9IG5ldyBTcHJpbmcobWFzczEsIG1hc3MzKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzMgPSBuZXcgU3ByaW5nKG1hc3MyLCBtYXNzNCk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmc0ID0gbmV3IFNwcmluZyhtYXNzMywgbWFzczQpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nNSA9IG5ldyBTcHJpbmcobWFzczEsIG1hc3M1LCAxMDAqTWF0aC5zcXJ0KDIpKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzYgPSBuZXcgU3ByaW5nKG1hc3MyLCBtYXNzNSwgMTAwKk1hdGguc3FydCgyKSk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmc3ID0gbmV3IFNwcmluZyhtYXNzMywgbWFzczUsIDEwMCpNYXRoLnNxcnQoMikpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nOCA9IG5ldyBTcHJpbmcobWFzczQsIG1hc3M1LCAxMDAqTWF0aC5zcXJ0KDIpKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzIpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmczKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nNCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzUpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmc2KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nNyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnQoKTp2b2lkIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5tYWluTG9vcC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1haW5Mb29wKGN1cnJlbnRUaW1lOm51bWJlcik6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSBNYXRoLm1pbihjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWUsIHRoaXMubWF4RGVsdGFUaW1lKTtcclxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKHRoaXMuZGVsdGFUaW1lKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRyYXcoKTtcclxuXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubWFpbkxvb3AuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGUoZGVsdGFUaW1lOm51bWJlcik6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tYXNzZXMuZm9yRWFjaCgobWFzcykgPT4gbWFzcy51cGRhdGUodGhpcy5jYW52YXMsIGRlbHRhVGltZSwgdGhpcy5tb3VzZVBvc2l0aW9uLCB0aGlzLmdyYXZpdHksIHRoaXMubWF4Rm9yY2UsIHRoaXMubWF4U3BlZWQpKTtcclxuICAgICAgICB0aGlzLnNwcmluZ3MuZm9yRWFjaCgoc3ByaW5nKSA9PiBzcHJpbmcudXBkYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhdygpOnZvaWQge1xyXG4gICAgICAgIC8vIENsZWFyIHNjcmVlblxyXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpbmdzLmZvckVhY2goKHN0cmluZykgPT4gc3RyaW5nLmRyYXcodGhpcy5jdHgpKTtcclxuICAgICAgICB0aGlzLm1hc3Nlcy5mb3JFYWNoKChtYXNzKSA9PiBtYXNzLmRyYXcodGhpcy5jdHgpKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEZW1vVHlwZSB9IGZyb20gXCIuL3V0aWxpdGllc1wiO1xyXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xyXG5cclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG5mdW5jdGlvbiByZXNpemVDYW52YXMoKTogdm9pZCB7XHJcbiAgICBjYW52YXMud2lkdGggID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplQ2FudmFzKVxyXG5yZXNpemVDYW52YXMoKVxyXG5cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgR2FtZShjYW52YXMpO1xyXG5cclxuY2FudmFzLm9ubW91c2Vkb3duID0gZ2FtZS5tb3VzZURvd24uYmluZChnYW1lKTtcclxuY2FudmFzLm9ubW91c2Vtb3ZlID0gZ2FtZS5tb3VzZU1vdmUuYmluZChnYW1lKTtcclxuY2FudmFzLm9ubW91c2V1cCA9IGdhbWUubW91c2VVcC5iaW5kKGdhbWUpO1xyXG5cclxuY29uc3QgcmFuZEVudW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBPYmplY3Qua2V5cyhEZW1vVHlwZSkubGVuZ3RoIC8gMilcclxuZ2FtZS5jcmVhdGVEZW1vKHJhbmRFbnVtKTtcclxuXHJcbmdhbWUuc3RhcnQoKTtcclxuIl0sIm5hbWVzIjpbIkRlbW9UeXBlIiwieCIsInkiLCJhZGQiLCJ2ZWN0b3IiLCJ0aGlzIiwic3VidHJhY3QiLCJtdWx0aXBseUJ5Iiwic2NhbGFyIiwibm9ybWFsaXplIiwibGVuZ3RoIiwicGx1cyIsIlZlY3RvcjIiLCJtaW51cyIsInRpbWVzIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJub3JtYWxpemVkIiwiZG90IiwiY2xhbXAiLCJtYWduaXR1ZGUiLCJjb3B5IiwiX3Bvc2l0aW9uIiwibWFzcyIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJfc2l6ZSIsImRyYWdDb2VmZmljaWVudCIsImlzQmVpbmdEcmFnZ2VkIiwicmVsYXRpdmVNb3VzZVBvc2l0aW9uIiwic3ByaW5ncyIsIl92ZWxvY2l0eSIsIm1pbiIsImFkZFNwcmluZyIsInNwcmluZyIsInB1c2giLCJ1cGRhdGUiLCJjYW52YXMiLCJkZWx0YVRpbWUiLCJtb3VzZVBvc2l0aW9uIiwiZ3Jhdml0eSIsIm1heEZvcmNlIiwibWF4U3BlZWQiLCJvbGRQb3NpdGlvbiIsImZvckVhY2giLCJnZXRGb3JjZSIsImNvbnRhY3RTcHJpbmdzIiwibGVmdCIsIkNvbnRhY3RTcHJpbmciLCJNYXNzIiwicmlnaHQiLCJ3aWR0aCIsInRvcCIsImJvdHRvbSIsImhlaWdodCIsImFjY2VsZXJhdGlvbiIsInNpemUiLCJkcmF3IiwiY3R4Iiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJlbGxpcHNlIiwiUEkiLCJmaWxsIiwibWFzczEiLCJtYXNzMiIsIm5hdHVyYWxMZW5ndGgiLCJyZWxhdGl2ZVBvcyIsImVsYXN0aWNGb3JjZSIsImRhbXBpbmdGb3JjZSIsImZvcmNlIiwiZGVmYXVsdFdpZHRoIiwiZGF0dW1NYXNzIiwicG9zaXRpb24iLCJkaXJlY3Rpb24iLCJyZWxhdGl2ZVNwZWVkIiwidmVsb2NpdHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJsaW5lV2lkdGgiLCJtaW5TaXplIiwic3Ryb2tlIiwiaGVydHpFeHBvbmVudCIsInBlbmFsdHlFeHBvbmVudCIsImhvb2tlIiwicGVuYWx0eSIsIlNwcmluZyIsIm1heERlbHRhVGltZSIsImdldENvbnRleHQiLCJsYXN0VGltZSIsIm1hc3NlcyIsImFkZE1hc3MiLCJtb3VzZURvd24iLCJldnQiLCJtb3VzZU1vdmUiLCJtb3VzZVVwIiwiY3JlYXRlRGVtbyIsInR5cGUiLCJUcmlhbmdsZSIsIm1hc3MzIiwic3ByaW5nMSIsInNwcmluZzIiLCJzcHJpbmczIiwiUGFyYWxsZWxvZ3JhbSIsIm1hc3M0Iiwic3ByaW5nNCIsInNwcmluZzUiLCJTcXVhcmUiLCJzcHJpbmc2IiwiQ2VudGVyZWRTcXVhcmUiLCJtYXNzNSIsInNwcmluZzciLCJzcHJpbmc4Iiwic3RhcnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtYWluTG9vcCIsImJpbmQiLCJjdXJyZW50VGltZSIsImNsZWFyUmVjdCIsInN0cmluZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNpemVDYW52YXMiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2FtZSIsIkdhbWUiLCJvbm1vdXNlZG93biIsIm9ubW91c2Vtb3ZlIiwib25tb3VzZXVwIiwicmFuZEVudW0iLCJmbG9vciIsInJhbmRvbSIsIk9iamVjdCIsImtleXMiXSwic291cmNlUm9vdCI6IiJ9