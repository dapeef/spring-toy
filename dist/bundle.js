(()=>{"use strict";var t,i,s=(t=function(i,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},t(i,s)},function(i,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function e(){this.constructor=i}t(i,s),i.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)});!function(t){t[t.Triangle=0]="Triangle",t[t.Parallelogram=1]="Parallelogram",t[t.Square=2]="Square",t[t.CenteredSquare=3]="CenteredSquare"}(i||(i={}));var e=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y},t.prototype.multiplyBy=function(t){this.x*=t,this.y*=t},t.prototype.normalize=function(){this.multiplyBy(1/this.length())},t.prototype.plus=function(i){return new t(this.x+i.x,this.y+i.y)},t.prototype.minus=function(i){return new t(this.x-i.x,this.y-i.y)},t.prototype.times=function(i){return new t(this.x*i,this.y*i)},t.prototype.length=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},t.prototype.normalized=function(){return 0===this.length()?this:this.times(1/this.length())},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.clamp=function(t){this.length()>t&&(this.normalize(),this.multiplyBy(t))},t.prototype.copy=function(){return new t(this.x,this.y)},t}(),n=function(){function t(t,i,s,n,o,h){void 0===t&&(t=new e(25,25)),void 0===i&&(i=1),void 0===s&&(s=1e-7),void 0===n&&(n=1),void 0===o&&(o=new e(50,50)),void 0===h&&(h=5e-4),this._position=t,this.mass=i,this.stiffness=s,this.damping=n,this._size=o,this.dragCoefficient=h,this.isBeingDragged=!1,this.relativeMousePosition=new e,this.springs=[],this._velocity=new e}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"velocity",{get:function(){return this._velocity},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this._position.x-this._size.x/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._position.x+this._size.x/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this._position.y-this._size.y/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._position.y+this._size.y/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSize",{get:function(){return Math.min(this._size.x,this._size.y)},enumerable:!1,configurable:!0}),t.prototype.addSpring=function(t){this.springs.push(t)},t.prototype.update=function(i,s,n,o,r,a){var p=this;if(this.isBeingDragged){var d=this._position.copy();this._position=n.minus(this.relativeMousePosition),this._velocity=this._position.minus(d).times(1/s)}else{var u=new e;u.add(new e(0,this.mass*o)),this.springs.forEach((function(t){u.add(t.getForce(p))}));var c=[];this.left<=0&&c.push(new h(this,new t(new e(-this._size.x/2,this._position.y)),this._size.x)),this.right>=i.width&&c.push(new h(this,new t(new e(i.width+this._size.x/2,this._position.y)),this._size.x)),this.top<=0&&c.push(new h(this,new t(new e(this._position.x,-this._size.y/2)),this._size.y)),this.bottom>=i.height&&c.push(new h(this,new t(new e(this._position.x,i.height+this._size.y/2)),this._size.y)),c.forEach((function(t){u.add(t.getForce(p))})),u.add(this._velocity.normalized().times(-this.dragCoefficient*Math.pow(this._velocity.length(),2)));var l=u.times(1/this.mass);this._velocity.add(l.times(s)),this._velocity.clamp(a),this._position.add(this._velocity.times(s)),this.right<=0&&(this._velocity.x=0,this._position.x=-this.size.x/2+1),this.left>=i.width&&(this._velocity.x=0,this._position.x=i.width+this.size.x/2-1),this.bottom<=0&&(this._velocity.y=0,this._position.y=-this.size.y/2+1),this.top>=i.height&&(this._velocity.y=0,this._position.y=i.height+this.size.y/2-1)}},t.prototype.draw=function(t){t.strokeStyle="black",t.beginPath(),t.ellipse(this._position.x,this._position.y,this._size.x/2,this._size.y/2,0,0,2*Math.PI),t.fill()},t}(),o=function(){function t(t,i,s,n,o){void 0===s&&(s=200),void 0===n&&(n=1e-4),void 0===o&&(o=.001),this.mass1=t,this.mass2=i,this.naturalLength=s,this.stiffness=n,this.damping=o,this.length=0,this.relativePos=new e,this.elasticForce=new e,this.dampingForce=new e,this.force=new e,this.defaultWidth=10,this.update()}return t.prototype.getForce=function(t){return t===this.mass2?this.force:this.force.times(-1)},t.prototype.update=function(){this.relativePos=this.mass1.position.minus(this.mass2.position),this.length=this.relativePos.length();var t=this.relativePos.normalized();this.elasticForce=t.times((this.length-this.naturalLength)*this.stiffness);var i=this.mass1.velocity.minus(this.mass2.velocity).dot(t);this.dampingForce=t.times(i*this.damping),this.force=this.elasticForce.plus(this.dampingForce)},t.prototype.draw=function(t){t.beginPath(),t.moveTo(this.mass1.position.x,this.mass1.position.y),t.lineTo(this.mass2.position.x,this.mass2.position.y),t.lineWidth=Math.min(this.defaultWidth*this.naturalLength/this.length,this.mass1.minSize,this.mass2.minSize),t.strokeStyle="gray",t.stroke()},t}(),h=function(t){function i(i,s,e,n,o){void 0===n&&(n=1e-5),void 0===o&&(o=.01);var h=t.call(this,s,i,e,n,o)||this;return h.mass1=i,h.mass2=s,h.naturalLength=e,h.stiffness=n,h.damping=o,h.hertzExponent=2,h.penaltyExponent=.5,h.update(),h}return s(i,t),i.prototype.update=function(){this.relativePos=this.mass1.position.minus(this.mass2.position),this.length=this.relativePos.length();var t=this.relativePos.normalized(),i=Math.pow(this.naturalLength-this.length,this.hertzExponent)*this.stiffness,s=1+1/Math.pow(this.length,this.penaltyExponent);this.elasticForce=t.times(i*s).times(-1);var e=this.mass1.velocity.minus(this.mass2.velocity).dot(t);this.dampingForce=t.times(e*this.damping),this.force=this.elasticForce.plus(this.dampingForce)},i}(o),r=function(){function t(t){this.canvas=t,this.isMouseDown=!1,this.mousePosition=new e,this.maxDeltaTime=50,this.gravity=5e-4,this.maxForce=.1,this.maxSpeed=1e4,this.ctx=t.getContext("2d"),this.lastTime=0,this.deltaTime=0,this.masses=[],this.springs=[]}return t.prototype.addMass=function(t){this.masses.push(t)},t.prototype.addSpring=function(t){this.springs.push(t),t.mass1.addSpring(t),t.mass2.addSpring(t)},t.prototype.mouseDown=function(t){var i=this;this.isMouseDown=!0,this.mousePosition.x=t.x,this.mousePosition.y=t.y,this.masses.forEach((function(s){s.position.x-s.size.x<=t.x&&s.position.x+s.size.x>=t.x&&s.position.y-s.size.y<=t.y&&s.position.y+s.size.y>=t.y&&(s.isBeingDragged=!0,s.relativeMousePosition=i.mousePosition.minus(s.position))}))},t.prototype.mouseMove=function(t){this.mousePosition.x=t.x,this.mousePosition.y=t.y},t.prototype.mouseUp=function(t){this.isMouseDown=!1,this.masses.forEach((function(t){return t.isBeingDragged=!1}))},t.prototype.createDemo=function(t){if(t===i.Triangle){var s=new n(new e(15,30)),h=new n(new e(30,300)),r=new n(new e(300,30));this.addMass(s),this.addMass(h),this.addMass(r);var a=new o(s,h),p=new o(h,r),d=new o(s,r);this.addSpring(a),this.addSpring(p),this.addSpring(d)}if(t===i.Parallelogram){s=new n(new e(30,30)),h=new n(new e(30,300)),r=new n(new e(300,30));var u=new n(new e(300,300));this.addMass(s),this.addMass(h),this.addMass(r),this.addMass(u),a=new o(s,h),p=new o(h,r),d=new o(s,r);var c=new o(r,u),l=new o(h,u);this.addSpring(a),this.addSpring(p),this.addSpring(d),this.addSpring(c),this.addSpring(l)}if(t===i.Square){s=new n(new e(30,30)),h=new n(new e(30,300)),r=new n(new e(300,30)),u=new n(new e(300,300)),this.addMass(s),this.addMass(h),this.addMass(r),this.addMass(u),a=new o(s,h),p=new o(s,u,200*Math.sqrt(2)),d=new o(h,u),c=new o(r,u),l=new o(s,r);var m=new o(h,r,200*Math.sqrt(2));this.addSpring(a),this.addSpring(p),this.addSpring(d),this.addSpring(c),this.addSpring(l),this.addSpring(m)}if(t===i.CenteredSquare){s=new n(new e(30,30)),h=new n(new e(30,300)),r=new n(new e(300,30)),u=new n(new e(300,300));var y=new n(new e(150,150));this.addMass(s),this.addMass(h),this.addMass(r),this.addMass(u),this.addMass(y),a=new o(s,h),p=new o(s,r),d=new o(h,u),c=new o(r,u),l=new o(s,y,100*Math.sqrt(2)),m=new o(h,y,100*Math.sqrt(2));var f=new o(r,y,100*Math.sqrt(2)),g=new o(u,y,100*Math.sqrt(2));this.addSpring(a),this.addSpring(p),this.addSpring(d),this.addSpring(c),this.addSpring(l),this.addSpring(m),this.addSpring(f),this.addSpring(g)}},t.prototype.start=function(){requestAnimationFrame(this.mainLoop.bind(this))},t.prototype.mainLoop=function(t){this.deltaTime=Math.min(t-this.lastTime,this.maxDeltaTime),this.lastTime=t,this.update(this.deltaTime),this.draw(),requestAnimationFrame(this.mainLoop.bind(this))},t.prototype.update=function(t){var i=this;this.masses.forEach((function(s){return s.update(i.canvas,t,i.mousePosition,i.gravity,i.maxForce,i.maxSpeed)})),this.springs.forEach((function(t){return t.update()}))},t.prototype.draw=function(){var t=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.springs.forEach((function(i){return i.draw(t.ctx)})),this.masses.forEach((function(i){return i.draw(t.ctx)}))},t}(),a=document.getElementById("canvas");function p(){a.width=window.innerWidth,a.height=window.innerHeight}window.addEventListener("resize",p),p();var d=new r(a);a.onmousedown=d.mouseDown.bind(d),a.onmousemove=d.mouseMove.bind(d),a.onmouseup=d.mouseUp.bind(d);var u=Math.floor(Math.random()*Object.keys(i).length/2);console.log(u),console.log(Object.keys(i)),d.createDemo(u),d.start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxFQUFLakMsVUFBVXNCLEtBQUtXLEdBQ3pDM0YsRUFBTytGLFVBQVlKLEVBQUtoQyxRQUFRcUIsS0FBS1csR0FFckMsSUFBTUssRUFBVXZILEtBQUt3SCxNQUFNeEgsS0FBS3lILFNBQVdDLE9BQU9DLEtBQUsxSSxHQUFVVSxPQUFTLEdBRTFFaUksUUFBUUMsSUFBSU4sR0FDWkssUUFBUUMsSUFBSUgsT0FBT0MsS0FBSzFJLElBQ3hCaUksRUFBSy9CLFdBQVdvQyxHQUVoQkwsRUFBS2QsTyIsInNvdXJjZXMiOlsid2VicGFjazovL3NwcmluZy10b3kvLi9zcmMvY2xhc3Nlcy50cyIsIndlYnBhY2s6Ly9zcHJpbmctdG95Ly4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gRGVtb1R5cGUge1xyXG4gICAgVHJpYW5nbGUsXHJcbiAgICBQYXJhbGxlbG9ncmFtLFxyXG4gICAgU3F1YXJlLFxyXG4gICAgQ2VudGVyZWRTcXVhcmVcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB4Om51bWJlciA9IDAsIHB1YmxpYyB5Om51bWJlciA9IDApIHt9O1xyXG5cclxuICAgIHB1YmxpYyBhZGQodmVjdG9yOlZlY3RvcjIpOnZvaWQge1xyXG4gICAgICAgIC8vIEFkZCBhbm90aGVyIFZlY3RvcjIgdG8gdGhpcyBWZWN0b3IyXHJcbiAgICAgICAgdGhpcy54ICs9IHZlY3Rvci54O1xyXG4gICAgICAgIHRoaXMueSArPSB2ZWN0b3IueTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHN1YnRyYWN0KHZlY3RvcjpWZWN0b3IyKTp2b2lkIHtcclxuICAgICAgICAvLyBTdWJ0cmFjdCBhbm90aGVyIFZlY3RvcjIgZnJvbSB0aGlzIFZlY3RvcjJcclxuICAgICAgICB0aGlzLnggLT0gdmVjdG9yLng7XHJcbiAgICAgICAgdGhpcy55IC09IHZlY3Rvci55O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtdWx0aXBseUJ5KHNjYWxhcjpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIC8vIFN1bSB0aGlzIFZlY3RvcjIgd2l0aCB0aGUgbmVnYXRpdmUgb2YgYW5vdGhlciBhbmQgcmV0dXJuIGEgbmV3IFZlY3RvcjIgb2YgdGhlIHJlc3VsdFxyXG4gICAgICAgIHRoaXMueCAqPSBzY2FsYXJcclxuICAgICAgICB0aGlzLnkgKj0gc2NhbGFyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3JtYWxpemUoKTp2b2lkIHtcclxuICAgICAgICB0aGlzLm11bHRpcGx5QnkoMS90aGlzLmxlbmd0aCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGx1cyh2ZWN0b3I6VmVjdG9yMik6VmVjdG9yMiB7XHJcbiAgICAgICAgLy8gU3VtIHRoaXMgVmVjdG9yMiB3aXRoIGFub3RoZXIgYW5kIHJldHVybiBhIG5ldyBWZWN0b3IyIG9mIHRoZSByZXN1bHRcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICsgdmVjdG9yLngsIHRoaXMueSArIHZlY3Rvci55KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIG1pbnVzKHZlY3RvcjpWZWN0b3IyKTpWZWN0b3IyIHtcclxuICAgICAgICAvLyBTdW0gdGhpcyBWZWN0b3IyIHdpdGggdGhlIG5lZ2F0aXZlIG9mIGFub3RoZXIgYW5kIHJldHVybiBhIG5ldyBWZWN0b3IyIG9mIHRoZSByZXN1bHRcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54IC0gdmVjdG9yLngsIHRoaXMueSAtIHZlY3Rvci55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdGltZXMoc2NhbGFyOm51bWJlcik6VmVjdG9yMiB7XHJcbiAgICAgICAgLy8gU3VtIHRoaXMgVmVjdG9yMiB3aXRoIHRoZSBuZWdhdGl2ZSBvZiBhbm90aGVyIGFuZCByZXR1cm4gYSBuZXcgVmVjdG9yMiBvZiB0aGUgcmVzdWx0XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCAqIHNjYWxhciwgdGhpcy55ICogc2NhbGFyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGVuZ3RoKCk6bnVtYmVyIHtcclxuICAgICAgICAvLyBHZXQgbGVuZ3RoIG9mIHRoZSB2ZWN0b3JcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMueCwgMikgKyBNYXRoLnBvdyh0aGlzLnksIDIpKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBub3JtYWxpemVkKCk6VmVjdG9yMiB7XHJcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoKCkgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lcygxL3RoaXMubGVuZ3RoKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZG90KHZlY3RvcjpWZWN0b3IyKTpudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnggKiB2ZWN0b3IueCArIHRoaXMueSAqIHZlY3Rvci55O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGFtcChtYWduaXR1ZGU6bnVtYmVyKTp2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5sZW5ndGgoKSA+IG1hZ25pdHVkZSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZSgpXHJcbiAgICAgICAgICAgIHRoaXMubXVsdGlwbHlCeShtYWduaXR1ZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29weSgpOlZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWFzcyB7XHJcbiAgICBwcml2YXRlIHNwcmluZ3M6U3ByaW5nW107XHJcbiAgICBwcml2YXRlIF92ZWxvY2l0eTpWZWN0b3IyO1xyXG4gICAgcHVibGljIGlzQmVpbmdEcmFnZ2VkOmJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyByZWxhdGl2ZU1vdXNlUG9zaXRpb246VmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfcG9zaXRpb246VmVjdG9yMiA9IG5ldyBWZWN0b3IyKDI1LCAyNSksIHByaXZhdGUgbWFzczpudW1iZXIgPSAxLCBwcml2YXRlIHN0aWZmbmVzczpudW1iZXIgPSAxZS03LCBwcml2YXRlIGRhbXBpbmc6bnVtYmVyID0gMWUwLCBwcml2YXRlIF9zaXplOlZlY3RvcjIgPSBuZXcgVmVjdG9yMig1MCwgNTApLCBwcml2YXRlIGRyYWdDb2VmZmljaWVudDpudW1iZXIgPSA1ZS00KSB7XHJcbiAgICAgICAgdGhpcy5zcHJpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5fdmVsb2NpdHkgPSBuZXcgVmVjdG9yMigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHBvc2l0aW9uKCkgOiBWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHZlbG9jaXR5KCkgOiBWZWN0b3IyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmVsb2NpdHk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IHNpemUoKSA6IFZlY3RvcjIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgZ2V0IGxlZnQoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uLnggLSB0aGlzLl9zaXplLngvMjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgcmlnaHQoKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uLnggKyB0aGlzLl9zaXplLngvMjtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXQgdG9wKCkgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbi55IC0gdGhpcy5fc2l6ZS55LzI7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0IGJvdHRvbSgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb24ueSArIHRoaXMuX3NpemUueS8yO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgbWluU2l6ZSgpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5fc2l6ZS54LCB0aGlzLl9zaXplLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTcHJpbmcoc3ByaW5nOlNwcmluZyk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5zcHJpbmdzLnB1c2goc3ByaW5nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIHVwZGF0ZShjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQsIGRlbHRhVGltZTpudW1iZXIsIG1vdXNlUG9zaXRpb246VmVjdG9yMiwgZ3Jhdml0eTpudW1iZXIsIG1heEZvcmNlOm51bWJlciwgbWF4U3BlZWQ6bnVtYmVyKTp2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5pc0JlaW5nRHJhZ2dlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBvbGRQb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmNvcHkoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBtb3VzZVBvc2l0aW9uLm1pbnVzKHRoaXMucmVsYXRpdmVNb3VzZVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5fdmVsb2NpdHkgPSB0aGlzLl9wb3NpdGlvbi5taW51cyhvbGRQb3NpdGlvbikudGltZXMoMS9kZWx0YVRpbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBmb3JjZSA9IG5ldyBWZWN0b3IyKCk7XHJcbiAgICAgICAgICAgIC8vIEdyYXZpdHlcclxuICAgICAgICAgICAgZm9yY2UuYWRkKG5ldyBWZWN0b3IyKDAsIHRoaXMubWFzcyAqIGdyYXZpdHkpKTtcclxuICAgICAgICAgICAgLy8gU3ByaW5nICBcclxuICAgICAgICAgICAgdGhpcy5zcHJpbmdzLmZvckVhY2goc3ByaW5nID0+IHtmb3JjZS5hZGQoc3ByaW5nLmdldEZvcmNlKHRoaXMpKX0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQm91bmNlIG9mZiB3YWxsc1xyXG4gICAgICAgICAgICBsZXQgY29udGFjdFNwcmluZ3M6Q29udGFjdFNwcmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgPD0gMCkgICAgICAgICAgICAgICAgIHtjb250YWN0U3ByaW5ncy5wdXNoKG5ldyBDb250YWN0U3ByaW5nKHRoaXMsIG5ldyBNYXNzKG5ldyBWZWN0b3IyKC10aGlzLl9zaXplLngvMiAgICAgICAgICAgICAgICAsIHRoaXMuX3Bvc2l0aW9uLnkpKSwgdGhpcy5fc2l6ZS54KSl9IC8vIExlZnRcclxuICAgICAgICAgICAgaWYgKHRoaXMucmlnaHQgPj0gY2FudmFzLndpZHRoKSAgICAge2NvbnRhY3RTcHJpbmdzLnB1c2gobmV3IENvbnRhY3RTcHJpbmcodGhpcywgbmV3IE1hc3MobmV3IFZlY3RvcjIoY2FudmFzLndpZHRoK3RoaXMuX3NpemUueC8yICAgICwgdGhpcy5fcG9zaXRpb24ueSkpLCB0aGlzLl9zaXplLngpKX0gLy8gUmlnaHRcclxuICAgICAgICAgICAgaWYgKHRoaXMudG9wIDw9IDApICAgICAgICAgICAgICAgICAge2NvbnRhY3RTcHJpbmdzLnB1c2gobmV3IENvbnRhY3RTcHJpbmcodGhpcywgbmV3IE1hc3MobmV3IFZlY3RvcjIodGhpcy5fcG9zaXRpb24ueCwgLXRoaXMuX3NpemUueS8yICAgICAgICAgICAgICAgICkpLCB0aGlzLl9zaXplLnkpKX0gLy8gVG9wXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvdHRvbSA+PSBjYW52YXMuaGVpZ2h0KSAgIHtjb250YWN0U3ByaW5ncy5wdXNoKG5ldyBDb250YWN0U3ByaW5nKHRoaXMsIG5ldyBNYXNzKG5ldyBWZWN0b3IyKHRoaXMuX3Bvc2l0aW9uLngsIGNhbnZhcy5oZWlnaHQrdGhpcy5fc2l6ZS55LzIgICApKSwgdGhpcy5fc2l6ZS55KSl9IC8vIEJvdHRvbVxyXG4gICAgICAgICAgICBjb250YWN0U3ByaW5ncy5mb3JFYWNoKHNwcmluZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBmb3JjZS5hZGQoc3ByaW5nLmdldEZvcmNlKHRoaXMpKX0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWlyIHJlc2lzdGFuY2VcclxuICAgICAgICAgICAgZm9yY2UuYWRkKHRoaXMuX3ZlbG9jaXR5Lm5vcm1hbGl6ZWQoKS50aW1lcygtdGhpcy5kcmFnQ29lZmZpY2llbnQgKiBNYXRoLnBvdyh0aGlzLl92ZWxvY2l0eS5sZW5ndGgoKSwgMikpKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENvbXB1dGUgZGlmZmVyZW50aWFsIGVxdWF0aW9uc1xyXG4gICAgICAgICAgICBsZXQgYWNjZWxlcmF0aW9uOlZlY3RvcjIgPSBmb3JjZS50aW1lcygxL3RoaXMubWFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlbG9jaXR5LmFkZChhY2NlbGVyYXRpb24udGltZXMoZGVsdGFUaW1lKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlbG9jaXR5LmNsYW1wKG1heFNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24uYWRkKHRoaXMuX3ZlbG9jaXR5LnRpbWVzKGRlbHRhVGltZSkpO1xyXG5cclxuICAgICAgICAgICAgLy8gUHV0IGhhcmQgbGltaXQgb24gd2FsbHNcclxuICAgICAgICAgICAgaWYgKHRoaXMucmlnaHQgPD0gMCkgICAgICAgICAgICB7dGhpcy5fdmVsb2NpdHkueCA9IDA7IHRoaXMuX3Bvc2l0aW9uLnggPSAtdGhpcy5zaXplLngvMiArIDF9IC8vIExlZnRcclxuICAgICAgICAgICAgaWYgKHRoaXMubGVmdCA+PSBjYW52YXMud2lkdGgpICB7dGhpcy5fdmVsb2NpdHkueCA9IDA7IHRoaXMuX3Bvc2l0aW9uLnggPSBjYW52YXMud2lkdGggKyB0aGlzLnNpemUueC8yIC0gMX0gLy8gUmlnaHRcclxuICAgICAgICAgICAgaWYgKHRoaXMuYm90dG9tIDw9IDApICAgICAgICAgICB7dGhpcy5fdmVsb2NpdHkueSA9IDA7IHRoaXMuX3Bvc2l0aW9uLnkgPSAtdGhpcy5zaXplLnkvMiArIDF9IC8vIFRvcFxyXG4gICAgICAgICAgICBpZiAodGhpcy50b3AgPj0gY2FudmFzLmhlaWdodCkgIHt0aGlzLl92ZWxvY2l0eS55ID0gMDsgdGhpcy5fcG9zaXRpb24ueSA9IGNhbnZhcy5oZWlnaHQgKyB0aGlzLnNpemUueS8yIC0gMX0gLy8gQm90dG9tXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KGN0eDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOnZvaWQge1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgLy8gY3R4LnJvdW5kUmVjdChcclxuICAgICAgICAvLyAgICAgdGhpcy5sZWZ0LFxyXG4gICAgICAgIC8vICAgICB0aGlzLnRvcCxcclxuICAgICAgICAvLyAgICAgdGhpcy5fc2l6ZS54LFxyXG4gICAgICAgIC8vICAgICB0aGlzLl9zaXplLnksXHJcbiAgICAgICAgLy8gICAgIHRoaXMubWluU2l6ZSAvIDVcclxuICAgICAgICAvLyApO1xyXG4gICAgICAgIGN0eC5lbGxpcHNlKFxyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi54LFxyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi55LFxyXG4gICAgICAgICAgICB0aGlzLl9zaXplLngvMixcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZS55LzIsXHJcbiAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgIDAsIDIqTWF0aC5QSVxyXG4gICAgICAgIClcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNwcmluZyB7XHJcbiAgICBwcm90ZWN0ZWQgbGVuZ3RoOm51bWJlciA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgcmVsYXRpdmVQb3M6VmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XHJcbiAgICBwcm90ZWN0ZWQgZWxhc3RpY0ZvcmNlOlZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xyXG4gICAgcHJvdGVjdGVkIGRhbXBpbmdGb3JjZTpWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcclxuICAgIHByb3RlY3RlZCBmb3JjZTpWZWN0b3IyID0gbmV3IFZlY3RvcjIoKTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgZGVmYXVsdFdpZHRoID0gMTA7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG1hc3MxOk1hc3MsIHB1YmxpYyBtYXNzMjpNYXNzLCBwcm90ZWN0ZWQgbmF0dXJhbExlbmd0aCA9IDIwMCwgcHJvdGVjdGVkIHN0aWZmbmVzczpudW1iZXIgPSAxZS00LCBwcm90ZWN0ZWQgZGFtcGluZzpudW1iZXIgPSAxZS0zKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Rm9yY2UoZGF0dW1NYXNzOk1hc3MpOlZlY3RvcjIge1xyXG4gICAgICAgIGlmIChkYXR1bU1hc3MgPT09IHRoaXMubWFzczIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9yY2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9yY2UudGltZXMoLTEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZWxhdGl2ZVBvcyA9IHRoaXMubWFzczEucG9zaXRpb24ubWludXModGhpcy5tYXNzMi5wb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnJlbGF0aXZlUG9zLmxlbmd0aCgpO1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb24gPSB0aGlzLnJlbGF0aXZlUG9zLm5vcm1hbGl6ZWQoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbGFzdGljc1xyXG4gICAgICAgIHRoaXMuZWxhc3RpY0ZvcmNlID0gZGlyZWN0aW9uLnRpbWVzKCh0aGlzLmxlbmd0aCAtIHRoaXMubmF0dXJhbExlbmd0aCkgKiB0aGlzLnN0aWZmbmVzcylcclxuXHJcbiAgICAgICAgLy8gRGFtcGluZ1xyXG4gICAgICAgIGxldCByZWxhdGl2ZVNwZWVkOm51bWJlciA9IHRoaXMubWFzczEudmVsb2NpdHkubWludXModGhpcy5tYXNzMi52ZWxvY2l0eSkuZG90KGRpcmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5kYW1waW5nRm9yY2UgPSBkaXJlY3Rpb24udGltZXMocmVsYXRpdmVTcGVlZCAqIHRoaXMuZGFtcGluZylcclxuXHJcbiAgICAgICAgLy8gVG90YWwgZm9yY2VcclxuICAgICAgICB0aGlzLmZvcmNlID0gdGhpcy5lbGFzdGljRm9yY2UucGx1cyh0aGlzLmRhbXBpbmdGb3JjZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoY3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6dm9pZCB7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICBjdHgubW92ZVRvKHRoaXMubWFzczEucG9zaXRpb24ueCwgdGhpcy5tYXNzMS5wb3NpdGlvbi55KTtcclxuICAgICAgICBjdHgubGluZVRvKHRoaXMubWFzczIucG9zaXRpb24ueCwgdGhpcy5tYXNzMi5wb3NpdGlvbi55KTtcclxuXHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IE1hdGgubWluKHRoaXMuZGVmYXVsdFdpZHRoICogdGhpcy5uYXR1cmFsTGVuZ3RoIC8gdGhpcy5sZW5ndGgsIHRoaXMubWFzczEubWluU2l6ZSwgdGhpcy5tYXNzMi5taW5TaXplKTtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnZ3JheSc7XHJcblxyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ29udGFjdFNwcmluZyBleHRlbmRzIFNwcmluZyB7XHJcbiAgICBwcml2YXRlIGhlcnR6RXhwb25lbnQ6bnVtYmVyID0gMjtcclxuICAgIHByaXZhdGUgcGVuYWx0eUV4cG9uZW50Om51bWJlciA9IC41O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBtYXNzMTpNYXNzLCBwdWJsaWMgbWFzczI6TWFzcywgcHJvdGVjdGVkIG5hdHVyYWxMZW5ndGg6bnVtYmVyLCBwcm90ZWN0ZWQgc3RpZmZuZXNzOm51bWJlciA9IDFlLTUsIHByb3RlY3RlZCBkYW1waW5nOm51bWJlciA9IDFlLTIpIHtcclxuICAgICAgICBzdXBlcihtYXNzMiwgbWFzczEsIG5hdHVyYWxMZW5ndGgsIHN0aWZmbmVzcywgZGFtcGluZyk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZWxhdGl2ZVBvcyA9IHRoaXMubWFzczEucG9zaXRpb24ubWludXModGhpcy5tYXNzMi5wb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnJlbGF0aXZlUG9zLmxlbmd0aCgpO1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb24gPSB0aGlzLnJlbGF0aXZlUG9zLm5vcm1hbGl6ZWQoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbGFzdGljc1xyXG4gICAgICAgIGNvbnN0IGhvb2tlID0gTWF0aC5wb3codGhpcy5uYXR1cmFsTGVuZ3RoIC0gdGhpcy5sZW5ndGgsIHRoaXMuaGVydHpFeHBvbmVudCkgKiB0aGlzLnN0aWZmbmVzcztcclxuICAgICAgICBjb25zdCBwZW5hbHR5ID0gMSArIDEgLyBNYXRoLnBvdyh0aGlzLmxlbmd0aCwgdGhpcy5wZW5hbHR5RXhwb25lbnQpO1xyXG4gICAgICAgIHRoaXMuZWxhc3RpY0ZvcmNlID0gZGlyZWN0aW9uLnRpbWVzKGhvb2tlICogcGVuYWx0eSkudGltZXMoLTEpO1xyXG5cclxuICAgICAgICAvLyBEYW1waW5nXHJcbiAgICAgICAgbGV0IHJlbGF0aXZlU3BlZWQ6bnVtYmVyID0gdGhpcy5tYXNzMS52ZWxvY2l0eS5taW51cyh0aGlzLm1hc3MyLnZlbG9jaXR5KS5kb3QoZGlyZWN0aW9uKTtcclxuICAgICAgICB0aGlzLmRhbXBpbmdGb3JjZSA9IGRpcmVjdGlvbi50aW1lcyhyZWxhdGl2ZVNwZWVkICogdGhpcy5kYW1waW5nKVxyXG5cclxuICAgICAgICAvLyBUb3RhbCBmb3JjZVxyXG4gICAgICAgIHRoaXMuZm9yY2UgPSB0aGlzLmVsYXN0aWNGb3JjZS5wbHVzKHRoaXMuZGFtcGluZ0ZvcmNlKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICAgIHByaXZhdGUgY3R4OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgaXNNb3VzZURvd246Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtb3VzZVBvc2l0aW9uID0gbmV3IFZlY3RvcjIoKTtcclxuXHJcbiAgICBwcml2YXRlIGxhc3RUaW1lOm51bWJlcjsgLy8gbWlsbGlzZWNvbmRzXHJcbiAgICBwcml2YXRlIGRlbHRhVGltZTpudW1iZXI7IC8vIG1pbGxpc2Vjb25kc1xyXG4gICAgcHJpdmF0ZSBtYXhEZWx0YVRpbWU6bnVtYmVyID0gNTA7IC8vbWlsbGlzZWNvbmRzXHJcbiAgICBwcml2YXRlIG1hc3NlczpNYXNzW107XHJcbiAgICBwcml2YXRlIHNwcmluZ3M6U3ByaW5nW107XHJcblxyXG4gICAgcHJpdmF0ZSBncmF2aXR5Om51bWJlciA9IDVlLTQ7IC8vIHBpeGVscy9tc2VjL21zZWNcclxuICAgIHByaXZhdGUgbWF4Rm9yY2U6bnVtYmVyID0gMWUtMTtcclxuICAgIHByaXZhdGUgbWF4U3BlZWQ6bnVtYmVyID0gMWU0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FudmFzOkhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLm1hc3NlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3ByaW5ncyA9IFtdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYWRkTWFzcyhtYXNzOk1hc3MpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubWFzc2VzLnB1c2gobWFzcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFNwcmluZyhzcHJpbmc6U3ByaW5nKTp2b2lkIHtcclxuICAgICAgICB0aGlzLnNwcmluZ3MucHVzaChzcHJpbmcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNwcmluZy5tYXNzMS5hZGRTcHJpbmcoc3ByaW5nKTtcclxuICAgICAgICBzcHJpbmcubWFzczIuYWRkU3ByaW5nKHNwcmluZyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24oZXZ0Ok1vdXNlRXZlbnQpOnZvaWQge1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubW91c2VQb3NpdGlvbi54ID0gZXZ0Lng7XHJcbiAgICAgICAgdGhpcy5tb3VzZVBvc2l0aW9uLnkgPSBldnQueTtcclxuXHJcbiAgICAgICAgLy8gV29yayBvdXQgd2hldGhlciB0aGUgbW91c2UgY2xpY2sgd2FzIHdpdGhpbiBhbnkgb2YgdGhlIG1hc3Nlc1xyXG4gICAgICAgIHRoaXMubWFzc2VzLmZvckVhY2gobWFzcyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIG1hc3MucG9zaXRpb24ueCAtIG1hc3Muc2l6ZS54IDw9IGV2dC54ICYmXHJcbiAgICAgICAgICAgICAgICBtYXNzLnBvc2l0aW9uLnggKyBtYXNzLnNpemUueCA+PSBldnQueCAmJlxyXG4gICAgICAgICAgICAgICAgbWFzcy5wb3NpdGlvbi55IC0gbWFzcy5zaXplLnkgPD0gZXZ0LnkgJiZcclxuICAgICAgICAgICAgICAgIG1hc3MucG9zaXRpb24ueSArIG1hc3Muc2l6ZS55ID49IGV2dC55ICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc3MuaXNCZWluZ0RyYWdnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc3MucmVsYXRpdmVNb3VzZVBvc2l0aW9uID0gdGhpcy5tb3VzZVBvc2l0aW9uLm1pbnVzKG1hc3MucG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2dDpNb3VzZUV2ZW50KTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1vdXNlUG9zaXRpb24ueCA9IGV2dC54O1xyXG4gICAgICAgIHRoaXMubW91c2VQb3NpdGlvbi55ID0gZXZ0Lnk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VVcChldnQ6TW91c2VFdmVudCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLm1hc3Nlcy5mb3JFYWNoKG1hc3MgPT4gbWFzcy5pc0JlaW5nRHJhZ2dlZCA9IGZhbHNlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGNyZWF0ZURlbW8odHlwZTpEZW1vVHlwZSk6dm9pZCB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IERlbW9UeXBlLlRyaWFuZ2xlKSB7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMSA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDE1LCAzMCkpO1xyXG4gICAgICAgICAgICBsZXQgbWFzczIgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMCwgMzAwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMyA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwMCwgMzApKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MxKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MyKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRNYXNzKG1hc3MzKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzcHJpbmcxID0gbmV3IFNwcmluZyhtYXNzMSwgbWFzczIpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMiA9IG5ldyBTcHJpbmcobWFzczIsIG1hc3MzKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzMgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzMyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzEpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmcyKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gRGVtb1R5cGUuUGFyYWxsZWxvZ3JhbSkge1xyXG4gICAgICAgICAgICBsZXQgbWFzczEgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMCwgMzApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3MyID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAsIDMwMCkpO1xyXG4gICAgICAgICAgICBsZXQgbWFzczMgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMDAsIDMwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzNCA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwMCwgMzAwKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzNCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMSA9IG5ldyBTcHJpbmcobWFzczEsIG1hc3MyKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzIgPSBuZXcgU3ByaW5nKG1hc3MyLCBtYXNzMyk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmczID0gbmV3IFNwcmluZyhtYXNzMSwgbWFzczMpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nNCA9IG5ldyBTcHJpbmcobWFzczMsIG1hc3M0KTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzUgPSBuZXcgU3ByaW5nKG1hc3MyLCBtYXNzNCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzEpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmcyKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzQpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmc1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSBEZW1vVHlwZS5TcXVhcmUpIHtcclxuICAgICAgICAgICAgbGV0IG1hc3MxID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAsIDMwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzMiA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwLCAzMDApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3MzID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAwLCAzMCkpO1xyXG4gICAgICAgICAgICBsZXQgbWFzczQgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMDAsIDMwMCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1hc3MobWFzczEpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1hc3MobWFzczIpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1hc3MobWFzczMpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1hc3MobWFzczQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNwcmluZzEgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzMik7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmcyID0gbmV3IFNwcmluZyhtYXNzMSwgbWFzczQsIDIwMCpNYXRoLnNxcnQoMikpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMyA9IG5ldyBTcHJpbmcobWFzczIsIG1hc3M0KTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzQgPSBuZXcgU3ByaW5nKG1hc3MzLCBtYXNzNCk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmc1ID0gbmV3IFNwcmluZyhtYXNzMSwgbWFzczMpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nNiA9IG5ldyBTcHJpbmcobWFzczIsIG1hc3MzLCAyMDAqTWF0aC5zcXJ0KDIpKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzIpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmczKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nNCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzUpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmc2KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSBEZW1vVHlwZS5DZW50ZXJlZFNxdWFyZSkge1xyXG4gICAgICAgICAgICBsZXQgbWFzczEgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMCwgMzApKTtcclxuICAgICAgICAgICAgbGV0IG1hc3MyID0gbmV3IE1hc3MobmV3IFZlY3RvcjIoMzAsIDMwMCkpO1xyXG4gICAgICAgICAgICBsZXQgbWFzczMgPSBuZXcgTWFzcyhuZXcgVmVjdG9yMigzMDAsIDMwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzNCA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDMwMCwgMzAwKSk7XHJcbiAgICAgICAgICAgIGxldCBtYXNzNSA9IG5ldyBNYXNzKG5ldyBWZWN0b3IyKDE1MCwgMTUwKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzMyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzNCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFzcyhtYXNzNSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc3ByaW5nMSA9IG5ldyBTcHJpbmcobWFzczEsIG1hc3MyKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzIgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzMyk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmczID0gbmV3IFNwcmluZyhtYXNzMiwgbWFzczQpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nNCA9IG5ldyBTcHJpbmcobWFzczMsIG1hc3M0KTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzUgPSBuZXcgU3ByaW5nKG1hc3MxLCBtYXNzNSwgMTAwKk1hdGguc3FydCgyKSk7XHJcbiAgICAgICAgICAgIGxldCBzcHJpbmc2ID0gbmV3IFNwcmluZyhtYXNzMiwgbWFzczUsIDEwMCpNYXRoLnNxcnQoMikpO1xyXG4gICAgICAgICAgICBsZXQgc3ByaW5nNyA9IG5ldyBTcHJpbmcobWFzczMsIG1hc3M1LCAxMDAqTWF0aC5zcXJ0KDIpKTtcclxuICAgICAgICAgICAgbGV0IHNwcmluZzggPSBuZXcgU3ByaW5nKG1hc3M0LCBtYXNzNSwgMTAwKk1hdGguc3FydCgyKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzEpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmcyKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nMyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzQpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmc1KTtcclxuICAgICAgICAgICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nNik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3ByaW5nKHNwcmluZzcpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNwcmluZyhzcHJpbmc4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXJ0KCk6dm9pZCB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMubWFpbkxvb3AuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtYWluTG9vcChjdXJyZW50VGltZTpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVsdGFUaW1lID0gTWF0aC5taW4oY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lLCB0aGlzLm1heERlbHRhVGltZSk7XHJcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLmRlbHRhVGltZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kcmF3KCk7XHJcblxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm1haW5Mb29wLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlKGRlbHRhVGltZTpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubWFzc2VzLmZvckVhY2goKG1hc3MpID0+IG1hc3MudXBkYXRlKHRoaXMuY2FudmFzLCBkZWx0YVRpbWUsIHRoaXMubW91c2VQb3NpdGlvbiwgdGhpcy5ncmF2aXR5LCB0aGlzLm1heEZvcmNlLCB0aGlzLm1heFNwZWVkKSk7XHJcbiAgICAgICAgdGhpcy5zcHJpbmdzLmZvckVhY2goKHNwcmluZykgPT4gc3ByaW5nLnVwZGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYXcoKTp2b2lkIHtcclxuICAgICAgICAvLyBDbGVhciBzY3JlZW5cclxuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaW5ncy5mb3JFYWNoKChzdHJpbmcpID0+IHN0cmluZy5kcmF3KHRoaXMuY3R4KSk7XHJcbiAgICAgICAgdGhpcy5tYXNzZXMuZm9yRWFjaCgobWFzcykgPT4gbWFzcy5kcmF3KHRoaXMuY3R4KSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRGVtb1R5cGUsIEdhbWUsIE1hc3MsIFNwcmluZywgVmVjdG9yMiB9IGZyb20gXCIuL2NsYXNzZXNcIjtcclxuXHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuZnVuY3Rpb24gcmVzaXplQ2FudmFzKCk6IHZvaWQge1xyXG4gICAgY2FudmFzLndpZHRoICA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUNhbnZhcylcclxucmVzaXplQ2FudmFzKClcclxuXHJcblxyXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoY2FudmFzKTtcclxuXHJcbmNhbnZhcy5vbm1vdXNlZG93biA9IGdhbWUubW91c2VEb3duLmJpbmQoZ2FtZSk7XHJcbmNhbnZhcy5vbm1vdXNlbW92ZSA9IGdhbWUubW91c2VNb3ZlLmJpbmQoZ2FtZSk7XHJcbmNhbnZhcy5vbm1vdXNldXAgPSBnYW1lLm1vdXNlVXAuYmluZChnYW1lKTtcclxuXHJcbmNvbnN0IHJhbmROdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBPYmplY3Qua2V5cyhEZW1vVHlwZSkubGVuZ3RoIC8gMilcclxuXHJcbmNvbnNvbGUubG9nKHJhbmROdW0pO1xyXG5jb25zb2xlLmxvZyhPYmplY3Qua2V5cyhEZW1vVHlwZSkpXHJcbmdhbWUuY3JlYXRlRGVtbyhyYW5kTnVtKTtcclxuXHJcbmdhbWUuc3RhcnQoKTtcclxuIl0sIm5hbWVzIjpbIkRlbW9UeXBlIiwieCIsInkiLCJhZGQiLCJ2ZWN0b3IiLCJ0aGlzIiwic3VidHJhY3QiLCJtdWx0aXBseUJ5Iiwic2NhbGFyIiwibm9ybWFsaXplIiwibGVuZ3RoIiwicGx1cyIsIlZlY3RvcjIiLCJtaW51cyIsInRpbWVzIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJub3JtYWxpemVkIiwiZG90IiwiY2xhbXAiLCJtYWduaXR1ZGUiLCJjb3B5IiwiX3Bvc2l0aW9uIiwibWFzcyIsInN0aWZmbmVzcyIsImRhbXBpbmciLCJfc2l6ZSIsImRyYWdDb2VmZmljaWVudCIsImlzQmVpbmdEcmFnZ2VkIiwicmVsYXRpdmVNb3VzZVBvc2l0aW9uIiwic3ByaW5ncyIsIl92ZWxvY2l0eSIsIm1pbiIsImFkZFNwcmluZyIsInNwcmluZyIsInB1c2giLCJ1cGRhdGUiLCJjYW52YXMiLCJkZWx0YVRpbWUiLCJtb3VzZVBvc2l0aW9uIiwiZ3Jhdml0eSIsIm1heEZvcmNlIiwibWF4U3BlZWQiLCJvbGRQb3NpdGlvbiIsImZvckVhY2giLCJnZXRGb3JjZSIsImNvbnRhY3RTcHJpbmdzIiwibGVmdCIsIkNvbnRhY3RTcHJpbmciLCJNYXNzIiwicmlnaHQiLCJ3aWR0aCIsInRvcCIsImJvdHRvbSIsImhlaWdodCIsImFjY2VsZXJhdGlvbiIsInNpemUiLCJkcmF3IiwiY3R4Iiwic3Ryb2tlU3R5bGUiLCJiZWdpblBhdGgiLCJlbGxpcHNlIiwiUEkiLCJmaWxsIiwibWFzczEiLCJtYXNzMiIsIm5hdHVyYWxMZW5ndGgiLCJyZWxhdGl2ZVBvcyIsImVsYXN0aWNGb3JjZSIsImRhbXBpbmdGb3JjZSIsImZvcmNlIiwiZGVmYXVsdFdpZHRoIiwiZGF0dW1NYXNzIiwicG9zaXRpb24iLCJkaXJlY3Rpb24iLCJyZWxhdGl2ZVNwZWVkIiwidmVsb2NpdHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJsaW5lV2lkdGgiLCJtaW5TaXplIiwic3Ryb2tlIiwiaGVydHpFeHBvbmVudCIsInBlbmFsdHlFeHBvbmVudCIsImhvb2tlIiwicGVuYWx0eSIsIlNwcmluZyIsImlzTW91c2VEb3duIiwibWF4RGVsdGFUaW1lIiwiZ2V0Q29udGV4dCIsImxhc3RUaW1lIiwibWFzc2VzIiwiYWRkTWFzcyIsIm1vdXNlRG93biIsImV2dCIsIm1vdXNlTW92ZSIsIm1vdXNlVXAiLCJjcmVhdGVEZW1vIiwidHlwZSIsIlRyaWFuZ2xlIiwibWFzczMiLCJzcHJpbmcxIiwic3ByaW5nMiIsInNwcmluZzMiLCJQYXJhbGxlbG9ncmFtIiwibWFzczQiLCJzcHJpbmc0Iiwic3ByaW5nNSIsIlNxdWFyZSIsInNwcmluZzYiLCJDZW50ZXJlZFNxdWFyZSIsIm1hc3M1Iiwic3ByaW5nNyIsInNwcmluZzgiLCJzdGFydCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1haW5Mb29wIiwiYmluZCIsImN1cnJlbnRUaW1lIiwiY2xlYXJSZWN0Iiwic3RyaW5nIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlc2l6ZUNhbnZhcyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnYW1lIiwiR2FtZSIsIm9ubW91c2Vkb3duIiwib25tb3VzZW1vdmUiLCJvbm1vdXNldXAiLCJyYW5kTnVtIiwiZmxvb3IiLCJyYW5kb20iLCJPYmplY3QiLCJrZXlzIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=